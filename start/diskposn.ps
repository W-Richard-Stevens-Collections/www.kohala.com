%!PS-Adobe-3.0
%%Creator: groff version 1.08
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%+ font Symbol
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.08 0
%%Pages: 17
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.08 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll 
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Symbol
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72 def/PL
792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron/scaron/zcaron
/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/space
/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright/parenleft
/parenright/asterisk/plus/comma/hyphen/period/slash/zero/one/two/three/four
/five/six/seven/eight/nine/colon/semicolon/less/equal/greater/question/at/A/B/C
/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash
/bracketright/circumflex/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q
/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase
/guillemotleft/guillemotright/bullet/florin/fraction/perthousand/dagger
/daggerdbl/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guilsinglleft/logicalnot/minus
/registered/macron/degree/plusminus/twosuperior/threesuperior/acute/mu
/paragraph/periodcentered/cedilla/onesuperior/ordmasculine/guilsinglright
/onequarter/onehalf/threequarters/questiondown/Agrave/Aacute/Acircumflex/Atilde
/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute
/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls
/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute
/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve
/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex
/udieresis/yacute/thorn/ydieresis]def/Courier@0 ENC0/Courier RE/Times-Roman@0
ENC0/Times-Roman RE/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0
/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(Heuristics f)117.419 122 Q(or Disk Dri)-.3 E .24 -.12
(ve P)-.12 H(ositioning in 4.3BSD)-.12 E/F1 10/Times-Italic@0 SF 1.84 -.92
(W. R)200.31 152 T(ic).92 E(har)-.15 E 2.5(dS)-.37 G(te)251.92 152 Q(vens)-.15
E/F2 10/Times-Roman@0 SF(Health Systems International)180.485 174.5 Q F1
(ABSTRA)215.07 219.5 Q(CT)-.3 E F2
(The throughput of a disk subsystem is critical to the perfor)124.755 249.5 Q
(-)-.2 E(mance of a computer system.)99.755 264.5 Q
(The 4.3BSD Unix operating system)5 E(pro)99.755 279.5 Q(vides a good e)-.15 E
(xample for looking at the heuristics that are used to)-.15 E
(optimize the positioning of the read\211write heads of a disk dri)99.755 294.5
Q -.15(ve)-.25 G 5(.I).15 G(n)363.485 294.5 Q(this paper we in)99.755 309.5 Q
-.15(ve)-.4 G(stig).15 E(ate the heuristics used in the BSD)-.05 E F1(hp)2.5 E
F2(disk)3.333 E(dri)99.755 324.5 Q -.15(ve)-.25 G 3.6 -.55(r. T).15 H
(hese heuristics are dri).55 E -.15(ve)-.25 G 2.5(nb).15 G 2.5(yt)244.755 324.5
S(hree parameters that can be)255.035 324.5 Q(changed by the system manager)
99.755 339.5 Q 5(.W)-.55 G 2.5(ei)243.095 339.5 S -1.85 -.4(nv e)252.815 339.5
T(stig).4 E(ate the interaction of)-.05 E(these parameters with the BSD f)
99.755 354.5 Q(ast \214lesystem.)-.1 E(This pro)5 E(vides a w)-.15 E(ay)-.1 E
(to see the ef)99.755 369.5 Q(fects of the BSD f)-.25 E(ast \214lesystem.)-.1 E
(Finally we present the)5 E(results of monitoring three acti)99.755 384.5 Q .3
-.15(ve \214)-.25 H(lesystems during day-to-day use,).15 E(to see what ef)
99.755 399.5 Q(fect these heuristics can ha)-.25 E -.15(ve)-.2 G(.).15 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-2-)230.205 51 S/F1 10/Times-Bold@0 SF 5(1. A)72 87
R(Scenario)2.5 E F0 2.5(As)72 105.6 S(ite is running 4.3BSD on a V)85.61 105.6
Q(AX with one of the popular disk con\214gurations: an)-1.35 E(Emule)72 120.6 Q
2.5(xM)-.15 G(assb)114.35 120.6 Q(us controller with Fujitsu Eagle disk dri)-.2
E -.15(ve)-.25 G 2.5(s. The).15 F 2.5(yu)-.15 G(pgrade to the)338.59 120.6 Q
(4.3BSD T)72 135.6 Q(ahoe release and after a fe)-.8 E 2.5(wd)-.25 G
(ays notice sluggish performance.)230.34 135.6 Q(Measur)5 E(-)-.2 E
(ing the throughput of the disks, the)72 150.6 Q 2.5<798c>-.15 G
(nd it has gone from 750 Mbytes/sec to)224.63 150.6 Q(320 Mbytes/sec.)72 165.6
Q(What')5 E 2.5(sh)-.55 G 2.5(appened? T)178.38 165.6 R 2.5(oa)-.8 G
(nswer this question the)238.39 165.6 Q 2.5(ym)-.15 G(ight do a)345.46 165.6 Q
/F2 10/Times-Italic@0 SF(dif)2.5 E(f)-.18 E F0(of the)72 180.6 Q F2(hp)2.5 E F0
(dri)3.333 E -.15(ve)-.25 G 2.5(rb).15 G(etween the tw)141.863 180.6 Q 2.5(or)
-.1 G(eleases, b)208.133 180.6 Q(ut this generates about 1,500 lines of)-.2 E
(output, as there were some fundamental changes made to all the disk dri)72
195.6 Q -.15(ve)-.25 G(rs in the).15 E -.8(Ta)72 210.6 S
(hoe release with the addition of disk labels.).8 E
(Another option is to go back)5 E(through the Usenet ne)72 225.6 Q
(wsgroups \(assuming the)-.25 E(y')-.15 E .3 -.15(ve a)-.5 H(rchi).15 E -.15
(ve)-.25 G 2.5(dt).15 G(he appropriate ne)315.23 225.6 Q(ws-)-.25 E
(groups\) where the)72 240.6 Q 2.5(yw)-.15 G(ould \214nd an of)158.67 240.6 Q
(\214cial Berk)-.25 E(ele)-.1 E 2.5(yp)-.15 G(osting that describes ho)282.88
240.6 Q 2.5(wt)-.25 G(o)389.29 240.6 Q(tune three parameters for this disk dri)
72 255.6 Q -.15(ve)-.25 G 2.5(rt).15 G(hat can greatly af)239.62 255.6 Q
(fect performance.)-.25 E(\(This posting is included as Appendix A.\))72 270.6
Q(This paper is a detailed analysis of e)97 289.2 Q
(xactly what these three parameters do)-.15 E(and ho)72 304.2 Q 2.5(wt)-.25 G
2.5(om)111.19 304.2 S(easure them for a system.)126.47 304.2 Q
(This analysis pro)5 E(vides an interesting look)-.15 E
(at the heuristics used by some of the BSD disk dri)72 319.2 Q -.15(ve)-.25 G
(rs in positioning the).15 E(read\211write heads of a disk.)72 334.2 Q 1.6 -.8
(We a)5 H(lso \214nd an interaction between these parameters).8 E
(and the BSD f)72 349.2 Q(ast \214lesystem.)-.1 E
(Finally we look at some statistics collected during a)5 E(day')72 364.2 Q 2.5
(sw)-.55 G(orth of typical timesharing usage to see what ef)102.73 364.2 Q
(fect these heuristics can)-.25 E(ha)72 379.2 Q -.15(ve)-.2 G(.).15 E F1 5
(2. Intr)72 409.2 R(oduction)-.18 E F0(There are tw)72 427.8 Q 2.5(ot)-.1 G
(ypes of disk controllers typically used today:)132.71 427.8 Q 7.78<8343>97
446.4 S(ontrollers such as DEC')114.95 446.4 Q 2.5(sU)-.55 G -.4(DA)223.83
446.4 S(50, which are termed `).4 E(`smart con-)-.74 E(trollers.)108.28 461.4 Q
3.98 -.74('' T)-.7 H(his type of controller tak).74 E
(es requests from the operating system)-.1 E(and automatically optimizes them.)
108.28 476.4 Q -.8(Ty)5 G(pical optimizations include the ef).8 E<8c2d>-.25 E
(cient use of multiple dri)108.28 491.4 Q -.15(ve)-.25 G
(s, and the sorting of requests for a single dri).15 E -.15(ve)-.25 G
(to minimize access times.)108.28 506.4 Q 7.78<8343>97 525 S
(ontrollers such as the)114.95 525 Q F2(hp)2.5 E F0(controllers found on man)
3.333 E 2.5(yD)-.15 G(EC systems.)330.883 525 Q(These are termed `)108.28 540 Q
(`dumb controllers')-.74 E 2.5('a)-.74 G 2.5(st)266.47 540 S(he)275.64 540 Q
2.5(yr)-.15 G(equire the operating sys-)295.76 540 Q(tem to handle an)108.28
555 Q 2.5(yd)-.15 G(esired optimizations.)187.01 555 Q(Section 8.6 of [Lef)72
573.6 Q(\215er et al. 1989] gi)-.25 E -.15(ve)-.25 G 2.5(sad).15 G
(escription of some of the heuristics)246.04 573.6 Q(used in the)72 588.6 Q F2
(up)2.5 E F0(disk dri)3.333 E -.15(ve)-.25 G 3.6 -.55(r. T).15 H(his dri).55 E
-.15(ve)-.25 G 2.5(ri).15 G 2.5(sf)229.803 588.6 S(or a `)239.523 588.6 Q
(`dumb')-.74 E 2.5('c)-.74 G(ontroller that is similar to)298.853 588.6 Q(the)
72 603.6 Q F2(hp)2.5 E F0(controller used for the tests in this paper)3.333 E 5
(.W)-.55 G 2.5(ea)276.453 603.6 S(re speci\214cally interested in)287.833 603.6
Q(the heuristics used to position the read\211write heads of a disk.)72 618.6 Q
1.6 -.8(We s)5 H(ho).8 E 2.5(wt)-.25 G(hat these)362.3 618.6 Q(heuristics are \
dependent on the processor speed, the disk characteristics \(rotational)72
633.6 Q(speed and number of sectors per track\), and the layout policies of th\
e \214lesystem.)72 648.6 Q(Consider the follo)97 667.2 Q(wing points:)-.25 E
7.78<8344>97 685.8 S(isk dri)115.5 685.8 Q -.15(ve)-.25 G 2.5(sa).15 G(re slo)
160.65 685.8 Q 2.5(wc)-.25 G(ompared to processors.)196.5 685.8 Q -.8(Ty)5 G
(pical rotational speeds).8 E(are 3600 re)108.28 700.8 Q -.2(vo)-.25 G
(lutions per minute, which gi).2 E -.15(ve)-.25 G 2.5(sa).15 G 2.5(na)295.18
700.8 S -.15(ve)306.92 700.8 S(rage latenc).15 E 2.5(yt)-.15 G(ime)369.93 700.8
Q(\(one-half a re)108.28 715.8 Q -.2(vo)-.25 G(lution\) of 8.33 milliseconds.)
.2 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-3-)230.205 51 S 7.78<834d>97 87 S(an)117.17 87 Q
2.5(yd)-.15 G(isk controllers support both a search command and a seek com-)
138.96 87 Q 2.5(mand. A)108.28 102 R/F1 10/Times-Italic@0 SF(sear)2.5 E -.15
(ch)-.37 G F0(command positions the read\211write head to a speci\214c)3.483 E
(sector on a speci\214c c)108.28 117 Q(ylinder)-.15 E 5(.A)-.55 G 2.5(ss)233.94
117 S(oon as the speci\214ed c)244.22 117 Q(ylinder and sector)-.15 E
(are reached, the dri)108.28 132 Q -.15(ve)-.25 G 2.5(ri).15 G 2.5(sn)202.56
132 S(oti\214ed by an interrupt.)213.95 132 Q(A)5 E F1(seek)2.5 E F0
(command posi-)3.333 E(tions the read\211write head to a particular c)108.28
147 Q(ylinder)-.15 E 5(.T)-.55 G(he dri)315.31 147 Q -.15(ve)-.25 G 2.5(ri).15
G 2.5(sn)356.01 147 S(oti\214ed)367.4 147 Q
(by an interrupt as soon as the speci\214ed c)108.28 162 Q(ylinder is reached.)
-.15 E(The sector)5 E(position after a seek is random.)108.28 177 Q 7.78<8353>
97 195.6 S(ome controllers support the seek command b)113.84 195.6 Q
(ut not the search command.)-.2 E
(If a search command is supported, it is preferable to the seek, since the)
108.28 210.6 Q(search noti\214es the dri)108.28 225.6 Q -.15(ve)-.25 G 2.5(ro)
.15 G(nly when the desired sector is ready to be read)213.97 225.6 Q
(or written.)108.28 240.6 Q(The BSD disk dri)5 E -.15(ve)-.25 G(rs contain a v)
.15 E(ariable, called)-.25 E F1(sc_doseek)2.5 E F0(in)3.333 E(the)108.28 255.6
Q F1(hp)2.5 E F0(dri)3.333 E -.15(ve)-.25 G .8 -.4(r, t).15 H
(hat can be set if the controller does not support a search).4 E(command.)
108.28 270.6 Q 7.78<834d>97 289.2 S(an)117.17 289.2 Q 2.5(yc)-.15 G
(ontrollers allo)138.4 289.2 Q 2.5(wt)-.25 G(he dri)206.48 289.2 Q -.15(ve)-.25
G 2.5(rt).15 G 2.5(oh)247.18 289.2 S -2.25 -.2(av e)259.68 289.2 T 2.5(as)2.7 G
(eek or a search in progress)286.54 289.2 Q
(on more than one disk at the same time.)108.28 304.2 Q(This is called `)5 E
(`o)-.74 E -.15(ve)-.15 G(rlapping).15 E(seeks.)108.28 319.2 Q 3.98 -.74('' S)
-.7 H(ince the positioning of the read\211write heads typically accounts).74 E
(for most of the time spent by a disk, being able to o)108.28 334.2 Q -.15(ve)
-.15 G(rlap this operation).15 E(on multiple disks can reduce the o)108.28
349.2 Q -.15(ve)-.15 G(rall time required to access the disks.).15 E -.15(Fo)
108.28 364.2 S 2.5(re).15 G(xample, assume the dri)128.81 364.2 Q -.15(ve)-.25
G 2.5(rh).15 G(as a request for one disk that requires a)240.89 364.2 Q
(seek of 5 ms follo)108.28 379.2 Q
(wed by a read of 2 ms, and a request for a second disk)-.25 E
(that requires a seek of 10 ms follo)108.28 394.2 Q(wed by a read of 2 ms.)-.25
E(If the seeks are)5 E(not o)108.28 409.2 Q -.15(ve)-.15 G
(rlapped, a total time of 19 ms is required.).15 E(Ov)5 E(erlapping the seeks)
-.15 E(reduces this total time to 12 ms.)108.28 424.2 Q
(When more than one disk is seeking or)5 E(searching, the \214rst that arri)
108.28 439.2 Q -.15(ve)-.25 G 2.5(sa).15 G 2.5(ti)235.63 439.2 S
(ts desired location interrupts the proces-)243.69 439.2 Q(sor)108.28 454.2 Q
(.)-.55 E 7.78<834d>97 472.8 S(an)117.17 472.8 Q 2.5(yc)-.15 G(ontrollers allo)
138.4 472.8 Q 2.5(wt)-.25 G(he dri)206.48 472.8 Q -.15(ve)-.25 G 2.5(rt).15 G
2.5(oo)247.18 472.8 S(btain the current position of the)259.68 472.8 Q
(read\211write heads.)108.28 487.8 Q(In the)5 E F1(hp)2.5 E F0
(controller this is called the `)3.333 E(`lookahead re)-.74 E(gis-)-.15 E(ter)
108.28 502.8 Q -.7(.')-.55 G 5('T)-.04 G(his capability is required if the dri)
137.11 502.8 Q -.15(ve)-.25 G 2.5(rw).15 G(ants to optimize position-)294.64
502.8 Q(ing on a particular c)108.28 517.8 Q(ylinder)-.15 E(.)-.55 E 7.78<834d>
97 536.4 S(ost controllers only allo)117.17 536.4 Q 2.5(was)-.25 G
(ingle disk to be reading or writing at a)232.19 536.4 Q 2.5(time. Other)108.28
551.4 R(disks can be seeking or searching while one disk is e)2.5 E -.15(xe)
-.15 G(cuting).15 E 2.5(ar)108.28 566.4 S(ead or write command.)118.55 566.4 Q
(Also, once a read or write command is initi-)5 E
(ated, the controller cannot start a seek or search on another disk until the)
108.28 581.4 Q(read or write completes.)108.28 596.4 Q
(Therefore, before starting a read or a write, the)5 E
(heads should be positioned as close as possible to the starting sector)108.28
611.4 Q 5(.F)-.55 G(or)392.56 611.4 Q -.15(ex)108.28 626.4 S
(ample, if a read is initiated when the starting sector is still three-).15 E
(quarters of a re)108.28 641.4 Q -.2(vo)-.25 G(lution a).2 E -.1(wa)-.15 G 2.5
(yo).1 G 2.5(nt)232.27 641.4 S(hat c)242.55 641.4 Q(ylinder)-.15 E 2.5(,d)-.4 G
(uring that 12.5 millisec-)299.49 641.4 Q
(onds, plus the time required to actually read the desired sectors, the con-)
108.28 656.4 Q(troller can')108.28 671.4 Q 2.5(ti)-.18 G
(nitiate a read, write, seek, or search on another disk.)160.31 671.4 Q 7.78
<8349>97 690 S(nterrupts require processor time to handle.)111.61 690 Q(If e)5
E -.15(ve)-.25 G(ry data transfer is pre-).15 E
(ceded by a seek or search, then it tak)108.28 705 Q(es tw)-.1 E 2.5(oi)-.1 G
(nterrupts for e)286.09 705 Q -.15(ve)-.25 G(ry read or).15 E 2.5(write. If)
108.28 720 R(the dri)2.5 E -.15(ve)-.25 G 2.5(rn).15 G -2.15 -.25(ev e)191.19
720 T 2.5(rp).25 G(erformed seeks or searches, only a single)215.5 720 Q EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-4-)230.205 51 S
(operation and a single interrupt w)108.28 87 Q(ould be required.)-.1 E
(Clearly there is a)5 E(tradeof)108.28 102 Q 2.5(fb)-.25 G
(etween tying up the controller with a read or write command,)147.18 102 Q -.15
(ve)108.28 117 S(rsus the additional interrupt o).15 E -.15(ve)-.15 G
(rhead associated with a seek or search.).15 E/F1 10/Times-Bold@0 SF 5(3. BSD)
72 150.6 R(Block Allocation)2.5 E F0(Chapter 7 of [Lef)72 169.2 Q
(\215er et al. 1989] describes the allocation of blocks to a ne)-.25 E 2.5
<778c>-.25 G(le)382.55 169.2 Q(that is being written.)72 184.2 Q -.15(Fo)5 G
2.5(ro).15 G(ur purposes we are interested in the follo)180.46 184.2 Q
(wing features:)-.25 E 7.78<8354>97 202.8 S
(he BSD block allocation routines try to place sequential blocks on the)114.39
202.8 Q(same c)108.28 217.8 Q(ylinder)-.15 E 5(.T)-.55 G
(his implies that the disk dri)177.01 217.8 Q -.15(ve)-.25 G
(rs often \214nd the read\211write).15 E
(heads already positioned on the correct c)108.28 232.8 Q(ylinder)-.15 E(.)-.55
E 7.78<8349>97 251.4 S 2.5(na)111.61 251.4 S
(ddition to trying to place consecuti)123.55 251.4 Q .3 -.15(ve b)-.25 H
(locks on the same c).15 E(ylinder)-.15 E 2.5(,t)-.4 G(he)393.13 251.4 Q
(block allocation routines also try to position sequential blocks so the)108.28
266.4 Q 2.5(ya)-.15 G(re)393.95 266.4 Q(in rotationally optimal locations.)
108.28 281.4 Q(When reading a \214le sequentially)5 E 2.5(,a)-.65 G(fter)382.05
281.4 Q(one block has been read the dri)108.28 296.4 Q -.15(ve)-.25 G 2.5(rh)
.15 G(as to process the interrupt for that)252.56 296.4 Q
(operation and then set things up to read the ne)108.28 311.4 Q(xt block.)-.15
E(Sequential blocks)5 E(should be separated by as man)108.28 326.4 Q 2.5(ys)
-.15 G(ectors as required so that the dri)241.44 326.4 Q -.15(ve)-.25 G 2.5(rh)
.15 G(as)389.06 326.4 Q(time to start the read of the ne)108.28 341.4 Q
(xt block.)-.15 E(This is called the `)5 E(`rotational)-.74 E(delay')108.28
356.4 Q 2.5('o)-.74 G 2.5(ft)143.36 356.4 S
(he \214lesystem and we discuss it in Section 5.)151.97 356.4 Q(This parameter)
5 E(depends on the amount of CPU time required by the dri)108.28 371.4 Q -.15
(ve)-.25 G .8 -.4(r, s).15 H 2.5(oi).4 G 2.5(ti)361.62 371.4 S 2.5(sd)369.68
371.4 S(epen-)381.07 371.4 Q(dent on the processor)108.28 386.4 Q(.)-.55 E 7.78
<8341>97 405 S(lmost e)115.5 405 Q -.15(ve)-.25 G
(ry Unix system detects sequential reading of a \214le by a pro-).15 E
(cess, and automatically initiates the read of the ne)108.28 420 Q
(xt data block.)-.15 E(This)5 E(means that most)108.28 435 Q/F2 10
/Times-Italic@0 SF -.37(re)2.5 G(ad).37 E F0
(system calls, after the \214rst one, return quickly)3.333 E 2.5(,s)-.65 G
(ince)388.343 435 Q(the requested block is already in a disk b)108.28 450 Q(uf)
-.2 E(fer)-.25 E 5(.S)-.55 G(ection 5.2 of [Bach 1986])302.52 450 Q
(describes this read-ahead polic)108.28 465 Q 3.8 -.65(y. T)-.15 H 2.5(oad)-.15
G(isk dri)267.75 465 Q -.15(ve)-.25 G 2.5(rt).15 G(his means that it often)
310.68 465 Q(\214nds a request for block)108.28 480 Q F2(N)2.5 E F0(ne)3.333 E
(xt on its queue, when it is processing the)-.15 E
(read-completion interrupt for block)108.28 495 Q F2(N)2.5 E/F3 10/Symbol SF(-)
A F2(1)A F0(.).833 E 7.78<8349>97 513.6 S 2.5(nt)111.61 513.6 S(he follo)121.89
513.6 Q(wing e)-.25 E(xamples we assume a block size of 8192 bytes and a)-.15 E
(fragment size of 1024 bytes.)108.28 528.6 Q
(That is, all blocks of the \214le are 8192 bytes)5 E(in length, e)108.28 543.6
Q(xcept possibly the \214nal block.)-.15 E F1 5(4. The)72 577.2 R
(BSD hp Disk Dri)2.5 E -.1(ve)-.1 G(r).1 E F0(The)72 595.8 Q F2(hp)2.5 E F0
(dri)3.333 E -.15(ve)-.25 G 2.5(rs).15 G
(upports three parameters for each type of disk dri)133.253 595.8 Q -.15(ve)
-.25 G(:).15 E F2(mindist)2.5 E F0(,).833 E F2(maxdist)72 610.8 Q F0 2.5(,a)
.833 G(nd)113.383 610.8 Q F2(sdist)2.5 E F0 5(.T).833 G
(hese three parameters control the heuristics that are used in)158.666 610.8 Q
(positioning the read\211write heads.)72 625.8 Q -.4(Wi)5 G
(th 4.3BSD these three v).4 E(alues are initialized in)-.25 E(the dri)72 640.8
Q -.15(ve)-.25 G 2.5(rs).15 G(ource code.)116.59 640.8 Q 1.6 -.8(To c)5 H
(hange them requires modifying the dri).8 E -.15(ve)-.25 G 2.5(ra).15 G
(nd recom-)357.83 640.8 Q(piling the k)72 655.8 Q(ernel, or using a deb)-.1 E
(ugger to patch the k)-.2 E 2.5(ernel. The)-.1 F(4.3BSD T)2.5 E(ahoe)-.8 E
(release mo)72 670.8 Q -.15(ve)-.15 G 2.5(dt).15 G
(hese parameters to the \214le)134.46 670.8 Q F2(/etc/disktab)2.5 E F0 2.5(,w)
.833 G(hich is used by the)300.543 670.8 Q F2(disklabel)72 685.8 Q F0
(program to write these three v)3.333 E(alues, along with other disk-dependent)
-.25 E(parameters, to the label on the disk dri)72 700.8 Q -.15(ve)-.25 G 5(.T)
.15 G(he T)247.96 700.8 Q(ahoe release also refers to these)-.8 E
(three parameters as)72 715.8 Q F2(d1)2.5 E F0(,).833 E F2(d2)2.5 E F0 2.5(,a)
.833 G(nd)187.796 715.8 Q F2(d3)2.5 E F0 5(.T).833 G(he parameter)224.739 715.8
Q F2(d1)2.5 E F0(corresponds to)3.333 E F2(mindist)2.5 E F0(,).833 E F2(d2)2.5
E F0(is)72 730.8 Q F2(maxdist)2.5 E F0 2.5(,a).833 G(nd)122.553 730.8 Q F2(d3)
2.5 E F0(is)3.333 E F2(sdist)2.5 E F0 5(.W).833 G(e')192.869 730.8 Q
(ll use the 4.3BSD names since the)-.1 E 2.5(ya)-.15 G(re more)348.709 730.8 Q
EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-5-)230.205 51 S(descripti)72 87 Q -.15(ve)-.25 G
(.).15 E(An)97 105.6 Q 2.5(yt)-.15 G(ime a search operation is e)119.35 105.6 Q
-.15(xe)-.15 G(cuted, the dri).15 E -.15(ve)-.25 G 2.5(rl).15 G
(eads the search by the)304.99 105.6 Q(number of sectors speci\214ed by)72
120.6 Q/F1 10/Times-Italic@0 SF(sdist)2.5 E F0 5(.F).833 G(or e)228.783 120.6 Q
(xample, if)-.15 E F1(sdist)2.5 E F0(is 5 and the desired sec-)3.333 E
(tor is 32, then the dri)72 135.6 Q -.15(ve)-.25 G 2.5(ri).15 G
(ssues its search command for sector 27.)172.98 135.6 Q(This parameter)5 E
(is required because it tak)72 150.6 Q(es the dri)-.1 E -.15(ve)-.25 G 2.5(rs)
.15 G(ome time to process the interrupt that occurs)226.74 150.6 Q
(when the search is complete, before it can issue a read or write command.)72
165.6 Q(This)5 E(parameter is af)72 180.6 Q
(fected by both the speed of the processor and the speed of the disk.)-.25 E(I\
f this parameter is too small, then once the interrupt from the search command\
 is)72 195.6 Q(recei)72 210.6 Q -.15(ve)-.25 G 2.5(da).15 G
(nd the read or write command issued, the desired sector has already)112.41
210.6 Q(passed by)72 225.6 Q 5(.T)-.65 G(his is called `)124.12 225.6 Q
(`losing a re)-.74 E -.2(vo)-.25 G(lution').2 E 2.5('a)-.74 G
(nd the controller is tied up for a)267.17 225.6 Q(complete re)72 240.6 Q -.2
(vo)-.25 G(lution while w).2 E(aiting for the desired sector to pass by ag)-.1
E 2.5(ain. If)-.05 F(this)2.5 E(parameter is too lar)72 255.6 Q
(ge, then the read or write command is issued too early)-.18 E 2.5(,t)-.65 G
(ying up)372.78 255.6 Q
(the controller when it might be possible to be servicing another disk.)72
270.6 Q(The)97 289.2 Q F1(mindist)2.5 E F0(and)3.333 E F1(maxdist)2.5 E F0
(parameters are used by the dri)3.333 E -.15(ve)-.25 G 2.5(rt).15 G 2.5(od)
337.106 289.2 S(etermine if it)349.606 289.2 Q(should issue a search command o\
r if it should immediately issue the read or write)72 304.2 Q 2.5
(command. These)72 319.2 R
(parameters are used only when the disk is already positioned on)2.5 E
(the correct c)72 334.2 Q(ylinder)-.15 E 5(.I)-.55 G 2.5(ft)159.88 334.2 S
(he disk is on the desired c)168.49 334.2 Q(ylinder)-.15 E 2.5(,t)-.4 G(he dri)
307.37 334.2 Q -.15(ve)-.25 G 2.5(rr).15 G(eads the)348.62 334.2 Q(disk')72
349.2 Q 2.5(sl)-.55 G(ookahead re)100.62 349.2 Q
(gister to determine the sector at which the disk is currently)-.15 E 2.5
(positioned. If)72 364.2 R
(the distance from the current position to the desired position is)2.5 E
(within the ranges speci\214ed by)72 379.2 Q F1(mindist)2.5 E F0(and)3.333 E F1
(maxdist)2.5 E F0 2.5(,t).833 G(hen the dri)283.376 379.2 Q -.15(ve)-.25 G 2.5
(ri).15 G(ssues the read)343.796 379.2 Q(or write command immediately)72 394.2
Q 5(.B)-.65 G(ut if the distance is less than)211.34 394.2 Q F1(mindist)2.5 E
F0(or greater)3.333 E(than)72 409.2 Q F1(maxdist)2.5 E F0 2.5(,t).833 G(he dri)
131.443 409.2 Q -.15(ve)-.25 G 2.5(ri).15 G(ssues a search command instead.)
172.143 409.2 Q(The)97 427.8 Q F1(mindist)2.5 E F0
(parameter speci\214es the minimum amount of time required by)3.333 E
(the processor to set up a read or write command.)72 442.8 Q
(If the distance to the desired sec-)5 E(tor is less than this v)72 457.8 Q
(alue, a read or write should not be initiated.)-.25 E(By the time the)5 E
(command is issued the desired sector will ha)72 472.8 Q .3 -.15(ve p)-.2 H
(assed by the read\211write heads.).15 E(Instead, the dri)72 487.8 Q -.15(ve)
-.25 G 2.5(rs).15 G(hould issue a search command to a)150.47 487.8 Q -.2(vo)-.2
G(id tying up the controller).2 E(for an entire re)72 502.8 Q -.2(vo)-.25 G
(lution.).2 E(The)97 521.4 Q F1(maxdist)2.5 E F0(parameter is used to a)3.333 E
-.2(vo)-.2 G(id starting read or write operations for).2 E
(sectors that are still a long distance a)72 536.4 Q -.1(wa)-.15 G 2.5(yo).1 G
2.5(nt)242.83 536.4 S(he current c)253.11 536.4 Q(ylinder)-.15 E 5(.I)-.55 G
2.5(ft)338.77 536.4 S(he distance is)347.38 536.4 Q(greater than)72 551.4 Q F1
(maxdist)2.5 E F0
(it is better to issue a search command, rather than tying up the)3.333 E
(controller with a read or write.)72 566.4 Q(These three parameters should obe)
97 585 Q 2.5(yt)-.15 G(he follo)245.98 585 Q(wing inequality:)-.25 E F1
(mindist)186.655 606 Q F0(<)3.48 E F1(sdist)3.14 E F0(<)3.48 E F1(maxdist)3.18
E F0(\(1\))393.41 606 Q(Our reasoning is as follo)72 627 Q 2.5(ws. First,)-.25
F(the)2.5 E F1(mindist)2.5 E F0(parameter is e)3.333 E(xamined while in the)
-.15 E(disk dri)72 642 Q -.15(ve)-.25 G 3.6 -.55(r. I).15 H 2.5(ft).55 G
(he dri)133.54 642 Q -.15(ve)-.25 G 2.5(rd).15 G
(ecides to issue a read or write, no additional interrupt)176.46 642 Q
(processing is required.)72 657 Q
(All it has to do is set up the appropriate de)5 E(vice re)-.25 E(gisters)-.15
E(and start the operation.)72 672 Q(The)5 E F1(sdist)2.5 E F0(parameter)3.333 E
2.5(,h)-.4 G -.25(ow)257.953 672 S -2.15 -.25(ev e).25 H .8 -.4(r, h).25 H
(as associated with it the).4 E
(processing of another interrupt and then the initiation of a read or write.)72
687 Q(The dif-)5 E(ference between)72 702 Q F1(sdist)2.5 E F0(and)3.333 E F1
(mindist)2.5 E F0(is the time required to process this additional)3.333 E 2.5
(interrupt. T)72 717 R 2.5(op)-.8 G(ro)131.75 717 Q .3 -.15(ve t)-.15 H
(he second relationship of inequality \(1\), assume that).15 E F1(maxdist)2.5 E
F0(is less than or equal to)72 732 Q F1(sdist)2.5 E F0 5(.F).833 G(or e)195.743
732 Q(xample, assume)-.15 E F1(maxdist)2.5 E F0(is 6,)3.333 E F1(sdist)2.5 E F0
(is 10, and)3.333 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-6-)230.205 51 S
(the distance to the desired sector is 8.)72 87 Q
(This distance is greater than)5 E/F1 10/Times-Italic@0 SF(maxdist)2.5 E F0
(so a)3.333 E(search command is issued.)72 102 Q(But the search command is of)5
E(fset by)-.25 E F1(sdist)2.5 E F0 2.5(,s).833 G 2.5(ot)360.053 102 S(he)
370.333 102 Q(search is for sector)72 117 Q/F2 10/Symbol SF(-)2.5 E F0 2.5
(2. \(All)B(the sector arithmetic is done modulo the number of)2.5 E
(sectors per track, since sector numbers are nonne)72 132 Q -.05(ga)-.15 G(ti)
.05 E -.15(ve)-.25 G 5(.H).15 G(ence, if there are 48 sec-)306.61 132 Q
(tors per track, then the sector that is)72 147 Q F2(-)2.5 E F0 2.5(2a)C -.1
(wa)234.53 147 S 2.5(yf).1 G(rom the current position corresponds)256.92 147 Q
(to the sector that is 46 sectors a)72 162 Q -.1(wa)-.15 G -.65(y.).1 G 5(\)T)
.65 G(his means the search command is issued)229.96 162 Q(for the sector that \
is behind the current position by 2 sectors\212almost an entire re)72 177 Q(v-)
-.25 E(olution is lost.)72 192 Q(Therefore, since an)5 E 2.5(ys)-.15 G
(earch for a sector that is greater than)222.11 192 Q F1(maxdist)2.5 E F0
(sectors a)72 207 Q -.1(wa)-.15 G 2.5(yi).1 G 2.5(sa)128.4 207 S -.1(lwa)139.23
207 S(ys of).1 E(fset by)-.25 E F1(sdist)2.5 E F0(,).833 E F1(maxdist)2.5 E F0
(must be greater than)3.333 E F1(sdist)2.5 E F0(to a)3.333 E -.2(vo)-.2 G(id).2
E(losing a re)72 222 Q -.2(vo)-.25 G(lution.).2 E(There are three dif)97 240.6
Q(ferent conditions that the dri)-.25 E -.15(ve)-.25 G 2.5(rm).15 G
(ust handle.)306.85 240.6 Q 5.28(1. desired)97 259.2 R(position <)2.5 E F1
(mindist)3.18 E F0(.).68 E(2.)97 277.8 Q F1(mindist)8.16 E F2<a3>3.48 E F0
(desired position)2.5 E F2<a3>2.5 E F1(maxdist)3.18 E F0(.).68 E(3.)97 296.4 Q
F1(maxdist)8.16 E F0 2.5(<d)3.48 G(esired position.)160.39 296.4 Q 1.6 -.8
(We c)72 315 T(an sho).8 E 2.5(wt)-.25 G(hese pictorially)130.1 315 Q 5(.F)-.65
G(or the \214rst condition we ha)203.74 315 Q -.15(ve)-.2 G(:).15 E 396 386.2
MT 0 -21.6 RL -288 0 RL 0 21.6 RL CL .32 LW ST 158.4 361 158.4 339.4 DL 158.4
361 MT -2.232 -6.768 RL 4.464 0 RL CL BL 158.4 361 MT -2.232 -6.768 RL 4.464 0
RL CL ST/F3 8/Times-Italic@0 SF(mindist)146.62 336.16 Q 223.2 361 223.2 339.4
DL 223.2 361 MT -2.232 -6.768 RL 4.464 0 RL CL BL 223.2 361 MT -2.232 -6.768 RL
4.464 0 RL CL ST(maxdist)210.756 336.16 Q 108 389.8 108 411.4 DL 108 389.8 MT
2.232 6.768 RL -4.464 0 RL CL BL 108 389.8 MT 2.232 6.768 RL -4.464 0 RL CL ST
/F4 8/Times-Roman@0 SF(current)89.472 422.56 Q(position)87.908 432.56 Q 144
389.8 144 411.4 DL 144 389.8 MT 2.232 6.768 RL -4.464 0 RL CL BL 144 389.8 MT
2.232 6.768 RL -4.464 0 RL CL ST(desired)139.648 422.56 Q(sector)141.648 432.56
Q 144 382.6 144 386.2 DL 144 376.624 144 380.224 DL 144 370.576 144 374.176 DL
144 364.6 144 368.2 DL 86.4 375.4 140.4 375.4 DL 86.4 375.4 MT 6.768 -2.232 RL
0 4.464 RL CL BL 86.4 375.4 MT 6.768 -2.232 RL 0 4.464 RL CL ST F3(sdist)
120.464 372.16 Q 374.4 361 374.4 339.4 DL 374.4 361 MT -2.232 -6.768 RL 4.464 0
RL CL BL 374.4 361 MT -2.232 -6.768 RL 4.464 0 RL CL ST F4(issue search)355.184
321.76 Q(for this sector)352.404 331.76 Q(desired position)309.04 402.36 Q(<)4
E F3(mindist)4 E F0(Here we sho)72 460.8 Q 2.5(was)-.25 G
(ingle track of the disk as an elong)142.28 460.8 Q(ated box.)-.05 E
(Realize that the left)5 E
(end of the box is actually joined to the right end, forming a circle.)72 475.8
Q(Since the dis-)5 E(tance to the desired sector is less than)72 490.8 Q F1
(mindist)2.5 E F0 2.5(,a).833 G(nd since)264.473 490.8 Q F1(sdist)2.5 E F0
(is greater than)3.333 E F1(mindist)72 505.8 Q F0(by inequality \(1\), the sea\
rch is for a position prior to the current position.)3.333 E -.15(Fo)97 524.4 S
2.5(rt).15 G(he second condition we ha)116.02 524.4 Q -.15(ve)-.2 G(:).15 E 396
581.2 MT 0 -21.6 RL -288 0 RL 0 21.6 RL CL ST 158.4 556 158.4 534.4 DL 158.4
556 MT -2.232 -6.768 RL 4.464 0 RL CL BL 158.4 556 MT -2.232 -6.768 RL 4.464 0
RL CL ST F3(mindist)146.62 531.16 Q 223.2 556 223.2 534.4 DL 223.2 556 MT
-2.232 -6.768 RL 4.464 0 RL CL BL 223.2 556 MT -2.232 -6.768 RL 4.464 0 RL CL
ST(maxdist)210.756 531.16 Q 108 584.8 108 606.4 DL 108 584.8 MT 2.232 6.768 RL
-4.464 0 RL CL BL 108 584.8 MT 2.232 6.768 RL -4.464 0 RL CL ST F4(current)
96.672 617.56 Q(position)95.108 627.56 Q 180 584.8 180 606.4 DL 180 584.8 MT
2.232 6.768 RL -4.464 0 RL CL BL 180 584.8 MT 2.232 6.768 RL -4.464 0 RL CL ST
(desired)168.448 617.56 Q(sector)170.448 627.56 Q 180 577.6 180 581.2 DL 180
571.624 180 575.224 DL 180 565.576 180 569.176 DL 180 559.6 180 563.2 DL F3
(mindist)271.88 597.36 Q/F5 8/Symbol SF<a3>4 E F4(desired position)4 E F5<a3>4
E F3(maxdist)4 E F0(In this case the dri)72 655.8 Q -.15(ve)-.25 G 2.5(ri).15 G
(ssues the read or write command immediately)162.97 655.8 Q(.)-.65 E
(The \214nal condition is:)97 674.4 Q 396 731.2 MT 0 -21.6 RL -288 0 RL 0 21.6
RL CL ST 158.4 706 158.4 684.4 DL 158.4 706 MT -2.232 -6.768 RL 4.464 0 RL CL
BL 158.4 706 MT -2.232 -6.768 RL 4.464 0 RL CL ST F3(mindist)146.62 681.16 Q
223.2 706 223.2 684.4 DL 223.2 706 MT -2.232 -6.768 RL 4.464 0 RL CL BL 223.2
706 MT -2.232 -6.768 RL 4.464 0 RL CL ST(maxdist)210.756 681.16 Q 108 734.8 108
756.4 DL 108 734.8 MT 2.232 6.768 RL -4.464 0 RL CL BL 108 734.8 MT 2.232 6.768
RL -4.464 0 RL CL ST F4(current)96.672 767.56 Q(position)95.108 777.56 Q 252
734.8 252 756.4 DL 252 734.8 MT 2.232 6.768 RL -4.464 0 RL CL BL 252 734.8 MT
2.232 6.768 RL -4.464 0 RL CL ST(desired)240.448 767.56 Q(sector)242.448 777.56
Q 252 727.6 252 731.2 DL 252 721.624 252 725.224 DL 252 715.576 252 719.176 DL
252 709.6 252 713.2 DL 194.4 720.4 248.4 720.4 DL 194.4 720.4 MT 6.768 -2.232
RL 0 4.464 RL CL BL 194.4 720.4 MT 6.768 -2.232 RL 0 4.464 RL CL ST F3(sdist)
214.064 717.16 Q 194.4 734.8 194.4 756.4 DL 194.4 734.8 MT 2.232 6.768 RL
-4.464 0 RL CL BL 194.4 734.8 MT 2.232 6.768 RL -4.464 0 RL CL ST F4
(issue search)175.184 767.56 Q(for this sector)172.404 777.56 Q F3(maxdist)
307.712 747.36 Q F4 4(<d)4 G(esired position)349.112 747.36 Q EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-7-)230.205 51 S(The implementation of the)97 87 Q
/F1 10/Times-Italic@0 SF(hp)2.5 E F0(disk dri)3.333 E -.15(ve)-.25 G 2.5(ri).15
G 2.5(nt)267.143 87 S(he original 4.3BSD distrib)277.423 87 Q(ution)-.2 E
(contains some errors that are w)72 102 Q(orth in)-.1 E -.15(ve)-.4 G(stig).15
E 2.5(ating. First,)-.05 F(the test ag)2.5 E(ainst)-.05 E F1(mindist)2.5 E F0
(and)72 117 Q F1(maxdist)2.5 E F0(is backw)3.333 E(ards:)-.1 E/F2 8/Courier@0
SF(if \()108 133 Q/F3 8/Times-Italic@0 SF(on desir)A(ed cylinder)-.296 E F2 4.8
(\){)C(/* calculate dist = distance to desired sector */)146.4 143 Q
(if \(dist > maxdist || dist < mindist\))146.4 153 Q(/* start read or write */)
184.8 163 Q(else)146.4 173 Q(/* do a search */)184.8 183 Q(})108 193 Q F0
(The condition should be)72 214 Q F2(if \(dist <= maxdist && dist >= mindist\))
146.4 230 Q(/* start read or write */)184.8 240 Q(else)146.4 250 Q
(/* do a search */)184.8 260 Q F0(This is \214x)72 281 Q(ed in the 4.3BSD T)
-.15 E(ahoe release.)-.8 E(Another b)5 E(ug that is \214x)-.2 E(ed in the T)
-.15 E(ahoe)-.8 E
(release is that the original 4.3BSD release incorrectly set the)72 296 Q F1
(sc_doseek)2.5 E F0(true for)3.333 E(some controllers \(all Emule)72 311 Q 2.5
(xc)-.15 G 2.5(ontrollers\). This)194.61 311 R(pre)2.5 E -.15(ve)-.25 G
(nted an).15 E 2.5(ys)-.15 G(earch commands)326.26 311 Q(from being e)72 326 Q
-.15(xe)-.15 G(cuted for these controllers.).15 E(Instead, the dri)5 E -.15(ve)
-.25 G 2.5(re).15 G -.15(xe)322.75 326 S(cuted only seek).15 E
(commands and then issued the read or write an)72 341 Q
(ywhere on the desired c)-.15 E(ylinder)-.15 E(.)-.55 E(The \214nal b)97 359.6
Q(ug, which is still in the T)-.2 E(ahoe release, is that the distrib)-.8 E
(uted v)-.2 E(alues)-.25 E(for the three parameters,)72 374.6 Q F1(mindist)2.5
E F0(,).833 E F1(maxdist)2.5 E F0 2.5(,a).833 G(nd)248.906 374.6 Q F1(sdist)2.5
E F0(are incorrect.)3.333 E(The entries for)5 E -2.15 -.25(ev e)72 389.6 T
(ry disk type ha).25 E .3 -.15(ve a)-.2 H F1(maxdist)2.65 E F0 -.25(va)3.333 G
(lue that is less than).25 E F1(sdist)2.5 E F0 5(.A).833 G 2.5(ss)319.306 389.6
S(ho)329.586 389.6 Q(wn abo)-.25 E -.15(ve)-.15 G 2.5(,t).15 G(his)385.416
389.6 Q(can cause a re)72 404.6 Q -.2(vo)-.25 G(lution to be lost whene).2 E
-.15(ve)-.25 G 2.5(rt).15 G(he actual distance is between the tw)246.11 404.6 Q
(o)-.1 E -.25(va)72 419.6 S 2.5(lues. These).25 F(incorrect v)2.5 E
(alues can drop the performance of certain disks by a f)-.25 E(ac-)-.1 E
(tor of three when switching from the original 4.3BSD release to the T)72 434.6
Q(ahoe release.)-.8 E(Indeed, this performance loss w)72 449.6 Q
(as noticed and a Usenet message posted by Berk)-.1 E(e-)-.1 E(le)72 464.6 Q
2.5(yo)-.15 G 2.5(nh)91.57 464.6 S .5 -.25(ow t)104.07 464.6 T 2.5(oa).25 G
(djust these three v)133.26 464.6 Q 2.5(alues. This)-.25 F
(posting is included as Appendix A.)2.5 E(The techniques gi)72 479.6 Q -.15(ve)
-.25 G 2.5(ni).15 G 2.5(nt)162.42 479.6 S
(his message are not optimal, although the v)172.7 479.6 Q(alues deri)-.25 E
-.15(ve)-.25 G(d).15 E(are better than the distrib)72 494.6 Q(uted v)-.2 E
(alues.)-.25 E/F4 10/Times-Bold@0 SF 5(5. Measuring)72 524.6 R(the sdist P)2.5
E(arameter)-.1 E F0 -.7(Te)72 543.2 S(sts were run on tw).7 E 2.5(od)-.1 G(if)
167.57 543.2 Q(ferent systems, a V)-.25 E(AX 11-785 and a V)-1.35 E(AX 8650.)
-1.35 E(On the)5 E(785 w)72 558.2 Q(as an Emule)-.1 E 2.5(xS)-.15 G
(C780 disk controller with Fujitsu Eagle \(M2351\) disk dri)158.41 558.2 Q -.15
(ve)-.25 G(s.).15 E(The 8650 had an Emule)72 573.2 Q 2.5(xS)-.15 G
(C7003 disk controller with CDC 9720-850 disk dri)180.45 573.2 Q -.15(ve)-.25 G
(s.).15 E(Both Emule)72 588.2 Q 2.5(xc)-.15 G(ontrollers are Massb)131.85 588.2
Q(us controllers.)-.2 E(Some rele)5 E -.25(va)-.25 G(nt parameters for).25 E
(these tw)72 603.2 Q 2.5(od)-.1 G(isks are)117.45 603.2 Q/F5 8/Times-Roman@0 SF
(Fujitsu Eagle)244.855 618.2 Q(CDC 9720-850)299.303 618.2 Q .32 LW 348.415
622.2 128.655 622.2 DL(re)128.655 630.2 Q -.16(vo)-.2 G(lutions per minute).16
E 39.78(3961 3600)258.079 630.2 R(sectors per track)128.655 640.2 Q 47.78
(48 68)266.079 640.2 R(bytes per sector)128.655 650.2 Q 43.78(512 512)262.079
650.2 R(microseconds per sector)128.655 660.2 Q 43.78(316 245)262.079 660.2 R
(track-to-track seek, milliseconds)128.655 670.2 Q 53.78(55)270.079 670.2 S
348.415 674.2 128.655 674.2 DL -.64(Ta)154.027 699.2 S(ble 1: Disk dri).64 E
.24 -.12(ve p)-.2 H(arameters for disks used in tests).12 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-8-)230.205 51 S(The microseconds per sector v)72
87 Q(alue is calculated from the \214rst tw)-.25 E 2.5(ov)-.1 G(alues abo)
342.18 87 Q .3 -.15(ve i)-.15 H(t).15 E(in the table.)72 102 Q
(The \214rst thing to measure is the)97 120.6 Q/F1 10/Times-Italic@0 SF(sdist)
2.5 E F0 -.25(va)3.333 G 2.5(lue. This).25 F -.25(va)2.5 G(lue sho).25 E
(ws the amount of)-.25 E(time required by the processor to handle an interrupt\
 from the controller and issue)72 135.6 Q 2.5(ar)72 150.6 S(ead or write.)82.27
150.6 Q 1.6 -.8(We e)5 H(xpect that as we continually decrease this v).65 E
(alue we will hit a)-.25 E(point where there isn')72 165.6 Q 2.5(te)-.18 G
(nough time for the dri)169.02 165.6 Q -.15(ve)-.25 G 2.5(rt).15 G 2.5(or)
274.44 165.6 S(espond to an interrupt and)285.27 165.6 Q
(start the read, causing a re)72 180.6 Q -.2(vo)-.25 G(lution to be missed.).2
E(Indeed, Figure 1 sho)5 E(ws this.)-.25 E .32 LW 398.376 339.6 131.976 339.6
DL 131.976 195.6 131.976 339.6 DL 398.376 195.6 398.376 339.6 DL 131.976 346.8
131.976 339.6 DL/F2 8/Times-Roman@0 SF(0)129.976 357.56 Q 158.616 346.8 158.616
339.6 DL(2)156.616 357.56 Q 185.256 346.8 185.256 339.6 DL(4)183.256 357.56 Q
211.896 346.8 211.896 339.6 DL(6)209.896 357.56 Q 238.536 346.8 238.536 339.6
DL(8)236.536 357.56 Q 265.176 346.8 265.176 339.6 DL(10)261.176 357.56 Q
291.816 346.8 291.816 339.6 DL(12)287.816 357.56 Q 318.456 346.8 318.456 339.6
DL(14)314.456 357.56 Q 345.096 346.8 345.096 339.6 DL(16)341.096 357.56 Q
371.736 346.8 371.736 339.6 DL(18)367.736 357.56 Q 398.376 346.8 398.376 339.6
DL(20)394.376 357.56 Q 124.776 339.6 131.976 339.6 DL(0)118.776 341.36 Q
124.776 319.008 131.976 319.008 DL(4)118.776 320.768 Q 124.776 298.488 131.976
298.488 DL(8)118.776 300.248 Q 124.776 277.896 131.976 277.896 DL(12)114.776
279.656 Q 124.776 257.304 131.976 257.304 DL(16)114.776 259.064 Q 124.776
236.712 131.976 236.712 DL(20)114.776 238.472 Q 124.776 216.192 131.976 216.192
DL(24)114.776 217.952 Q 124.776 195.6 131.976 195.6 DL(28)114.776 197.36 Q
(seconds)78.56 254.36 Q(to read)80.228 269.36 Q 2(8M)76.224 284.36 S(bytes)
89.336 284.36 Q/F3 8/Times-Italic@0 SF(sdist)241.62 371.384 Q F2(in sectors)2 E
/F4 6/Times-Roman@0 SF<83>130.926 204.56 Q 145.296 202.8 131.976 202.8 DL<83>
144.246 204.56 Q 158.616 202.8 145.296 202.8 DL<83>157.566 204.56 Q 171.936
226.488 158.616 202.8 DL<83>170.886 228.248 Q 185.256 275.376 171.936 226.488
DL<83>184.206 277.064 Q 198.576 282.504 185.256 275.304 DL<83>197.526 284.264 Q
211.896 283.008 198.576 282.504 DL<83>210.846 284.768 Q 225.216 283.008 211.896
283.008 DL<83>224.166 284.768 Q 238.536 282.504 225.216 283.008 DL<83>237.486
284.264 Q 251.856 282.504 238.536 282.504 DL<83>250.806 284.264 Q 265.176
282.504 251.856 282.504 DL<83>264.126 284.264 Q 278.496 282.504 265.176 282.504
DL<83>277.446 284.264 Q 291.816 282.504 278.496 282.504 DL<83>290.766 284.264 Q
305.136 282 291.816 282.504 DL<83>304.086 283.76 Q 318.456 280.488 305.136 282
DL<83>317.406 282.248 Q 331.776 206.4 318.456 280.488 DL<83>330.726 208.16 Q
345.096 206.4 331.776 206.4 DL<83>344.046 208.16 Q 358.416 206.4 345.096 206.4
DL<83>357.366 208.16 Q 371.736 206.4 358.416 206.4 DL<83>370.686 208.16 Q
385.056 206.4 371.736 206.4 DL<83>384.006 208.16 Q 398.376 206.4 385.056 206.4
DL<83>397.326 208.16 Q<83>130.926 210.752 Q 145.296 208.992 131.976 208.992 DL
<83>144.246 210.752 Q 158.616 219.288 145.296 208.992 DL<83>157.566 221.048 Q
171.936 295.896 158.616 219.288 DL<83>170.886 297.656 Q 185.256 294.888 171.936
295.896 DL<83>184.206 296.648 Q 198.576 294.888 185.256 294.888 DL<83>197.526
296.648 Q 211.896 294.888 198.576 294.888 DL<83>210.846 296.648 Q 225.216
294.888 211.896 294.888 DL<83>224.166 296.648 Q 238.536 294.888 225.216 294.888
DL<83>237.486 296.648 Q 251.856 294.888 238.536 294.888 DL<83>250.806 296.648 Q
265.176 294.888 251.856 294.888 DL<83>264.126 296.648 Q 278.496 294.888 265.176
294.888 DL<83>277.446 296.648 Q 291.816 294.888 278.496 294.888 DL<83>290.766
296.648 Q 305.136 294.888 291.816 294.888 DL<83>304.086 296.648 Q 318.456
294.888 305.136 294.888 DL<83>317.406 296.648 Q 331.776 210 318.456 294.888 DL
<83>330.726 211.76 Q 345.096 210 331.776 210 DL<83>344.046 211.76 Q 358.416 210
345.096 210 DL<83>357.366 211.76 Q 371.736 210 358.416 210 DL<83>370.686 211.76
Q 385.056 210 371.736 210 DL<83>384.006 211.76 Q 398.376 210 385.056 210 DL<83>
397.326 211.76 Q F2 -1.08(VA)205.192 277.268 S 2(X7)1.08 G(85 with Eagle)227.44
277.268 Q -1.08(VA)204.3 307.748 S 2(X8)1.08 G(650 with 9720)226.548 307.748 Q
(Figure 1:)165.759 396.6 Q(Ef)6 E(fect of)-.2 E F3(sdist)2 E F2
(on a sequential read)2 E F0(The timing tests were done by writing an 8 me)72
421.2 Q -.05(ga)-.15 G(byte \214le and then reading the \214le).05 E(using dif)
72 436.2 Q(ferent v)-.25 E(alues for)-.25 E F1(sdist)2.5 E F0 5(.T).833 G
(he reading and writing were done with)207.593 436.2 Q
(1024 reads or writes of 8 Kbytes at a time.)72 451.2 Q
(Multiple tests were done for each)5 E -.25(va)72 466.2 S(lue, to mak).25 E 2.5
(ec)-.1 G(ertain there were no anomalies with an)137.19 466.2 Q 2.5(ys)-.15 G
(peci\214c test.)303.39 466.2 Q(The systems)5 E
(were in single-user mode while the timing tests were conducted.)72 481.2 Q
(The important)5 E -.25(va)72 496.2 S
(lue to measure is the total elapsed time\212the w).25 E(all clock time.)-.1 E
(Also, to accu-)5 E(rately measure the)72 511.2 Q F1(sdist)2.5 E F0(ef)3.333 E
(fect, we w)-.25 E(ant e)-.1 E -.15(ve)-.25 G
(ry read or write to be preceded by a).15 E(search command, e)72 526.2 Q -.15
(ve)-.25 G 2.5(ni).15 G 2.5(ft)168.24 526.2 S
(he disk is already positioned on the correct c)176.85 526.2 Q(ylinder)-.15 E 5
(.T)-.55 G(o)395.59 526.2 Q(do this we set)72 541.2 Q F1(mindist)2.5 E F0
(to 1 and)3.333 E F1(maxdist)2.5 E F0(to 0.)3.333 E(This causes the dri)5 E
-.15(ve)-.25 G(r').15 E 2.5(st)-.55 G(est that we)352.976 541.2 Q(sho)72 556.2
Q(wed earlier to al)-.25 E -.1(wa)-.1 G(ys be f).1 E
(alse, causing a search command to be issued before)-.1 E -2.15 -.25(ev e)72
571.2 T(ry read or write.).25 E(Then we continually decreased the v)5 E
(alue of)-.25 E F1(sdist)2.5 E F0(to see ho)3.333 E(w)-.25 E -.1(fa)72 586.2 S
2.5(ra).1 G(head of the desired c)89.94 586.2 Q
(ylinder we had to be interrupted.)-.15 E -.15(Fo)5 G 2.5(rt).15 G
(he 785 the mini-)327.09 586.2 Q(mum v)72 601.2 Q(alue for)-.25 E F1(sdist)2.5
E F0(is 5 sectors and for the 8650 it is 3 sectors.)3.333 E(In actual use,)5 E
(ho)72 616.2 Q(we)-.25 E -.15(ve)-.25 G .8 -.4(r, o).15 H(ne should be conserv)
.4 E(ati)-.25 E .3 -.15(ve w)-.25 H(ith these v).15 E
(alues since there is typically more)-.25 E(system acti)72 631.2 Q
(vity than in the single-user conditions used for these tests.)-.25 E -.15(Fo)5
G 2.5(re).15 G(xam-)373.65 631.2 Q(ple, we actually use)72 646.2 Q F1(sdist)2.5
E F0 -.25(va)3.333 G(lues of 8 for the 785 and 5 for the 8650 to allo).25 E 2.5
(wf)-.25 G(or)381.453 646.2 Q(this v)72 661.2 Q(ariability)-.25 E(.)-.65 E
(Note, ho)97 679.8 Q(we)-.25 E -.15(ve)-.25 G .8 -.4(r, t).15 H
(hat the graph not only sho).4 E(ws an increase in the time)-.25 E
(required to read the \214le when the)72 694.8 Q F1(sdist)2.5 E F0 -.25(va)
3.333 G(lue is too small, b).25 E(ut it also sho)-.2 E(ws an)-.25 E
(increase at lar)72 709.8 Q(ger v)-.18 E 2.5(alues. This)-.25 F
(is an interaction with the BSD f)2.5 E(ast \214lesystem that is)-.1 E
(instructi)72 724.8 Q .3 -.15(ve t)-.25 H 2.5(ol).15 G(ook into.)129.38 724.8 Q
EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-9-)230.205 51 S(First, as mentioned earlier)97 87
Q 2.5(,t)-.4 G(he BSD \214lesystem tries to place consecuti)208.81 87 Q -.15
(ve)-.25 G(blocks of a \214le separated by a certain spacing \(in sectors\).)72
102 Q(This is termed the)5 E -.74(``)72 117 S(rotational delay).74 E -.7(.')
-.65 G 5('W)-.04 G(ith 4.3BSD it def)161.52 117 Q
(aults to 4 milliseconds when the \214lesystem)-.1 E
(is created and it can be changed at a later time using the)72 132 Q/F1 10
/Times-Italic@0 SF(tunefs)2.5 E F0 2.5(command. W)3.333 F(ith)-.4 E(the T)72
147 Q(ahoe release the rotational delay is an optional ar)-.8 E(gument to the)
-.18 E F1(ne)2.5 E(wfs)-.15 E F0(com-)3.333 E
(mand and it can also be changed with the)72 162 Q F1(tunefs)2.5 E F0 2.5
(command. This)3.333 F(rotational delay)2.5 E
(is to ensure that the system has enough time after recei)72 177 Q
(ving the read-complete)-.25 E
(interrupt to process the interrupt and start the read of the ne)72 192 Q
(xt block of the \214le.)-.15 E(This optimization of the ne)72 207 Q
(xt sector location is done when the \214le is being written.)-.15 E
(The actual algorithm to calculate this distance is in the routine)72 222 Q F1
(blkpr)2.5 E(ef)-.37 E F0 2.5(,a).833 G(nd is)361.593 222 Q(based on the follo)
72 237 Q(wing calculation:)-.25 E F1(dist)98.72 277.1 Q/F2 10/Symbol SF(=)3.48
E<ea>124.94 258.75 Q<ea>124.94 268.75 Q<ea>124.94 278.75 Q<ea>124.94 288.75 Q
<eb>124.94 298.75 Q F1 1.16(rotational delay)130.03 265.92 R .92
(in milliseconds)3.13 F F2<b4>3.07 E F1(revolutions)272.3 258.92 Q .4 LW 317.57
263.32 272.25 263.32 DL(second)280.81 272.92 Q F2<b4>321.57 265.92 Q F1
(sectors)337.63 258.92 Q 372.46 263.32 331.06 263.32 DL(revolution)331.11
272.92 Q(sectors)194.22 282.73 Q 227.73 287.13 188.97 287.13 DL(fragment)190.94
296.73 Q F2<b4>231.73 289.73 Q F0(1000)241.22 282.73 Q F1(milliseconds)3.18 E
314.67 287.13 241.22 287.13 DL 373.66 274.5 129.98 274.5 DL(second)263.845
296.73 Q F2<fa>374.86 258.75 Q<fa>374.86 268.75 Q<fa>374.86 278.75 Q<fa>374.86
288.75 Q<fb>374.86 298.75 Q F0(\(2\))393.41 277.1 Q(The v)72 317 Q
(alue of this equation is the number of disk fragments \(e.g., 1024-byte frag-)
-.25 E(ments, if the \214lesystem uses 8 Kbyte blocks with 1 Kbyte fragments\)\
 that should)72 332 Q(separate consecuti)72 347 Q .3 -.15(ve d)-.25 H
(ata blocks for a gi).15 E -.15(ve)-.25 G 2.5<6e8c>.15 G 2.5(le. The)255.32 347
R(inte)2.5 E(ger v)-.15 E(alue)-.25 E F1(dist)2.5 E F0(is then)3.333 E
(rounded up to the ne)72 362 Q(xt multiple of the block size \(e.g., 8\).)-.15
E -.15(Fo)5 G 2.5(rb).15 G(oth the Eagle and)328.34 362 Q(9720 disks, this cal\
culation generates a spacing of 8 fragments \(16 sectors\), if the)72 377 Q
(rotational delay is 4 milliseconds.)72 392 Q(Since the v)5 E(alue is al)-.25 E
-.1(wa)-.1 G(ys rounded up to the ne).1 E(xt)-.15 E
(multiple of the block size, a smaller v)72 407 Q
(alue of the delay in milliseconds still gener)-.25 E(-)-.2 E
(ates the minimum spacing of 16 sectors.)72 422 Q(It is possible, ho)5 E(we)
-.25 E -.15(ve)-.25 G .8 -.4(r, t).15 H 2.5(og).4 G(enerate a)347.04 422 Q(lar)
72 437 Q(ger spacing by specifying a delay greater than 4 milliseconds.)-.18 E
(No)97 455.6 Q 2.5(ww)-.25 G 2.5(ec)125.91 455.6 S(an see wh)137.29 455.6 Q 2.5
(yF)-.05 G(igure 1 has a lar)189.73 455.6 Q(ge increase around an)-.18 E F1
(sdist)2.5 E F0 -.25(va)3.333 G(lue of).25 E(14 sectors for both disks.)72
470.6 Q(When the dri)5 E -.15(ve)-.25 G 2.5(rp).15 G
(rocesses the interrupt for the comple-)249.35 470.6 Q
(tion of the read, the ne)72 485.6 Q(xt block to read is usually 16 sectors a)
-.15 E -.1(wa)-.15 G 3.8 -.65(y. B).1 H 2.5(yt).65 G(he time it)354.8 485.6 Q
(issues its search command, if the v)72 500.6 Q(alue of)-.25 E F1(sdist)2.5 E
F0(is greater than 14, it generates a)3.333 E
(search command for a sector prior to its current position, so a complete re)72
515.6 Q -.2(vo)-.25 G(lution).2 E(is lost.)72 530.6 Q(The spacing of consecuti)
5 E .3 -.15(ve d)-.25 H(ata blocks around the c).15 E(ylinder by the BSD)-.15 E
-.1(fa)72 545.6 S
(st \214lesystem is what generates the increase in Figure 1 around the).1 E F1
(sdist)2.5 E F0 -.25(va)3.333 G(lue of).25 E(14 sectors.)72 560.6 Q 1.6 -.8
(We n)97 579.2 T .5 -.25(ow c).8 H(ompute an estimated v).25 E
(alue for the maximum reading rate that we)-.25 E(can e)72 594.2 Q
(xpect from these tw)-.15 E 2.5(od)-.1 G 2.5(isks. T)184.22 594.2 R 2.5(or)-.8
G(ead an 8 Mbyte \214le in 8 Kbyte chunks, the)223.42 594.2 Q(follo)72 609.2 Q
(wing tw)-.25 E 2.5(os)-.1 G(teps are e)134.43 609.2 Q -.15(xe)-.15 G
(cuted 1024 times:).15 E 5.28(1. Read)97 627.8 R
(8192 bytes \(one block, 16 sectors\).)2.5 E 5.28(2. Let)97 646.4 R
(the disk mo)2.5 E .3 -.15(ve a)-.15 H
(nother block \(16 sectors\) until the ne).15 E(xt data block is)-.15 E
(reached.)112.28 661.4 Q -.15(Fo)72 680 S 2.5(rt).15 G(he 9720 disk this gi)
91.02 680 Q -.15(ve)-.25 G 2.5(sac).15 G
(alculated minimum time of 8.03 seconds, and for)196.17 680 Q
(the Eagle disk the v)72 695 Q(alue is 10.35 seconds.)-.25 E(These v)5 E
(alues are close to the measured)-.25 E -.25(va)72 710 S(lues of 8.7 and 11.1.)
.25 E(Note that we ha)5 E .3 -.15(ve i)-.2 H
(gnored the track-to-track seek times).15 E(that must also occur)72 725 Q 2.5
(,s)-.4 G(ince an 8 Mbyte \214le requires at least 18 c)160.76 725 Q
(ylinders on both)-.15 E EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(0-)238.535 51 S 2.5(disks. W)72
87 R 2.5(eh)-.8 G -2.25 -.2(av e)120.64 87 T
(also ignored the opening of the \214le, which also requires a small)2.7 E
(amount of time.)72 102 Q(If we miss a re)97 120.6 Q -.2(vo)-.25 G(lution, ho)
.2 E(we)-.25 E -.15(ve)-.25 G .8 -.4(r, t).15 H(he steps become:).4 E 5.28
(1. Read)97 139.2 R(8192 bytes \(one block, 16 sectors\).)2.5 E 5.28(2. Let)97
157.8 R(the disk mo)2.5 E .3 -.15(ve a)-.15 H(nother complete re).15 E -.2(vo)
-.25 G(lution plus one block \(16 sec-).2 E(tors\) to reach the ne)112.28 172.8
Q(xt data block.)-.15 E(Adding up the times for these tw)72 191.4 Q 2.5(oo)-.1
G(perations gi)215.5 191.4 Q -.15(ve)-.25 G 2.5(sc).15 G(alculated v)282.31
191.4 Q(alues of 25.1 sec-)-.25 E
(onds for the 9720 and 25.9 seconds for the Eagle.)72 206.4 Q(The measured v)5
E(alues were 25.2)-.25 E(and 25.9, respecti)72 221.4 Q -.15(ve)-.25 G(ly).15 E
(.)-.65 E 1.6 -.8(We c)97 240 T(an no).8 E 2.5(wu)-.25 G(nderstand wh)153.43
240 Q 2.5(yt)-.05 G(he f)217.26 240 Q(aulty 4.3BSD routines generated optimal)
-.1 E(results, despite their b)72 255 Q 2.5(ugs. Since)-.2 F(the dri)2.5 E -.15
(ve)-.25 G(r').15 E(s)-.55 E/F1 10/Times-Italic@0 SF(sc_doseek)2.5 E F0
(\215ag w)3.333 E(as al)-.1 E -.1(wa)-.1 G(ys true for an).1 E(Emule)72 270 Q
2.5(xc)-.15 G(ontroller)109.9 270 Q 2.5(,w)-.4 G(hene)156.16 270 Q -.15(ve)-.25
G 2.5(rt).15 G(he disk w)192.69 270 Q(as already positioned on the correct c)
-.1 E(ylin-)-.15 E(der)72 285 Q 2.5(,ar)-.4 G(ead w)99.64 285 Q(as started, re)
-.1 E -.05(ga)-.15 G(rdless ho).05 E 2.5(wf)-.25 G(ar a)231.17 285 Q -.1(wa)
-.15 G 2.5(y\().1 G(or ho)268.12 285 Q 2.5(wc)-.25 G(lose\) the desired sector)
302.86 285 Q -.1(wa)72 300 S 2.5(s. Since).1 F(the ne)2.5 E(xt block w)-.15 E
(as typically 16 sectors a)-.1 E -.1(wa)-.15 G 1.3 -.65(y, t).1 H(he read w).65
E(as started and a)-.1 E(re)72 315 Q -.2(vo)-.25 G(lution w).2 E(as not lost.)
-.1 E(Fixing the coding b)97 333.6 Q(ugs, ho)-.2 E(we)-.25 E -.15(ve)-.25 G .8
-.4(r, w).15 H(ithout setting the three parameters to rea-).4 E(sonable v)72
348.6 Q(alues, pro)-.25 E(vides a performance drop of a f)-.15 E
(actor of three.)-.1 E -.15(Fo)5 G 2.5(re).15 G(xample, set-)355.28 348.6 Q
(ting the dri)72 363.6 Q -.15(ve)-.25 G(r').15 E(s)-.55 E F1(sc_doseek)2.5 E F0
(\215ag f)3.333 E(alse \(which is correct\) and correcting the test)-.1 E(in)72
378.6 Q -.2(vo)-.4 G(lving).2 E F1(mindist)2.5 E F0(and)3.333 E F1(maxdist)2.5
E F0(generates the follo)3.333 E(wing scenario for the Eagle.)-.25 E(The)5 E
(def)72 393.6 Q(ault v)-.1 E(alue of)-.25 E F1(sdist)2.5 E F0
(is 15 and the def)3.333 E(ault v)-.1 E(alue of)-.25 E F1(maxdist)2.5 E F0
(is 8.)3.333 E(When the dri)5 E -.15(ve)-.25 G(r).15 E
(\214nishes reading one data block the ne)72 408.6 Q
(xt one is about 14 sectors a)-.15 E -.1(wa)-.15 G 3.8 -.65(y. T).1 H(his is)
.65 E(greater than 8 so the dri)72 423.6 Q -.15(ve)-.25 G 2.5(ri).15 G
(ssues a search, b)184.35 423.6 Q(ut the search is of)-.2 E(fset by 15 sectors)
-.25 E(\(e.g., one sector before the current position\) so a re)72 438.6 Q -.2
(vo)-.25 G(lution is lost.).2 E
(Performing the timing tests described in this section not only sho)97 457.2 Q
(ws the)-.25 E(maximum v)72 472.2 Q(alue for)-.25 E F1(sdist)2.5 E F0
(that should be used, it also sho)3.333 E(ws the spacing being used)-.25 E
(to separate sequential blocks of a \214le.)72 487.2 Q 1.6 -.8(To s)5 H
(ee what ef).8 E(fect the `)-.25 E(`rotational delay')-.74 E(')-.74 E(term in \
equation \(2\) has on the performance, we changed a \214lesystem on a CDC)72
502.2 Q(9720-850 disk from a 4 ms delay to a 5 ms delay)72 517.2 Q 2.5(,u)-.65
G(sing the)276.61 517.2 Q F1(tunefs)2.5 E F0(command.)3.333 E
(Equation \(2\) no)72 532.2 Q 2.5(wg)-.25 G -2.15 -.25(iv e)149.24 532.2 T 2.5
(sa).25 G F1(dist)A F0 -.25(va)3.333 G
(lue of 10 fragments, which is then rounded up to).25 E 2.5(16. This)72 547.2 R
(corresponds to 32 sectors.)2.5 E(Re)5 E
(writing the 8 Mbyte \214le and then reading)-.25 E(the \214le using dif)72
562.2 Q(ferent v)-.25 E(alues of)-.25 E F1(sdist)2.5 E F0(gi)3.333 E -.15(ve)
-.25 G 2.5(st).15 G(he follo)249.143 562.2 Q(wing results.)-.25 E .32 LW
398.376 721.2 131.976 721.2 DL 131.976 577.2 131.976 721.2 DL 398.376 577.2
398.376 721.2 DL 131.976 728.4 131.976 721.2 DL/F2 8/Times-Roman@0 SF(0)129.976
739.16 Q 146.808 728.4 146.808 721.2 DL(2)144.808 739.16 Q 161.568 728.4
161.568 721.2 DL(4)159.568 739.16 Q 176.4 728.4 176.4 721.2 DL(6)174.4 739.16 Q
191.232 728.4 191.232 721.2 DL(8)189.232 739.16 Q 205.992 728.4 205.992 721.2
DL(10)201.992 739.16 Q 220.824 728.4 220.824 721.2 DL(12)216.824 739.16 Q
235.584 728.4 235.584 721.2 DL(14)231.584 739.16 Q 250.416 728.4 250.416 721.2
DL(16)246.416 739.16 Q 265.176 728.4 265.176 721.2 DL(18)261.176 739.16 Q
280.008 728.4 280.008 721.2 DL(20)276.008 739.16 Q 294.768 728.4 294.768 721.2
DL(22)290.768 739.16 Q 309.6 728.4 309.6 721.2 DL(24)305.6 739.16 Q 324.432
728.4 324.432 721.2 DL(26)320.432 739.16 Q 339.192 728.4 339.192 721.2 DL(28)
335.192 739.16 Q 354.024 728.4 354.024 721.2 DL(30)350.024 739.16 Q 368.784
728.4 368.784 721.2 DL(32)364.784 739.16 Q 383.616 728.4 383.616 721.2 DL(34)
379.616 739.16 Q 398.376 728.4 398.376 721.2 DL(36)394.376 739.16 Q 124.776
721.2 131.976 721.2 DL(0)118.776 722.96 Q 124.776 703.2 131.976 703.2 DL(4)
118.776 704.96 Q 124.776 685.2 131.976 685.2 DL(8)118.776 686.96 Q 124.776
667.2 131.976 667.2 DL(12)114.776 668.96 Q 124.776 649.2 131.976 649.2 DL(16)
114.776 650.96 Q 124.776 631.2 131.976 631.2 DL(20)114.776 632.96 Q 124.776
613.2 131.976 613.2 DL(24)114.776 614.96 Q 124.776 595.2 131.976 595.2 DL(28)
114.776 596.96 Q 124.776 577.2 131.976 577.2 DL(32)114.776 578.96 Q(seconds)
78.56 635.96 Q(to read)80.228 650.96 Q 2(8M)76.224 665.96 S(bytes)89.336 665.96
Q/F3 8/Times-Italic@0 SF(sdist)241.62 752.984 Q F2(in sectors)2 E/F4 6
/Times-Roman@0 SF<83>130.926 590.696 Q 139.392 589.368 131.976 588.936 DL<83>
138.342 591.128 Q 146.808 603.768 139.392 589.368 DL<83>145.758 605.528 Q
154.224 665.904 146.808 603.768 DL<83>153.174 667.592 Q 161.64 665.832 154.224
665.832 DL<83>160.518 667.592 Q 168.984 665.832 161.568 665.832 DL<83>167.934
667.592 Q 176.4 665.832 168.984 665.832 DL<83>175.35 667.592 Q 183.816 665.832
176.4 665.832 DL<83>182.766 667.592 Q 191.232 665.832 183.816 665.832 DL<83>
190.182 667.592 Q 206.064 665.832 191.232 665.832 DL<83>204.942 667.592 Q
220.824 665.832 205.992 665.832 DL<83>219.774 667.592 Q 235.656 665.832 220.824
665.832 DL<83>234.534 667.592 Q 250.416 665.4 235.584 665.832 DL<83>249.366
667.16 Q 265.248 665.4 250.416 665.4 DL<83>264.126 667.16 Q 272.592 663.6
265.176 665.4 DL<83>271.542 665.36 Q 280.008 663.168 272.592 663.6 DL<83>
278.958 664.928 Q 287.424 663.168 280.008 663.168 DL<83>286.374 664.928 Q
294.84 663.168 287.424 663.168 DL<83>293.718 664.928 Q 302.184 663.168 294.768
663.168 DL<83>301.134 664.928 Q 309.6 663.168 302.184 663.168 DL<83>308.55
664.928 Q 317.016 663.168 309.6 663.168 DL<83>315.966 664.928 Q 324.432 663.168
317.016 663.168 DL<83>323.382 664.928 Q 331.848 663.168 324.432 663.168 DL<83>
330.726 664.928 Q 339.192 663.168 331.776 663.168 DL<83>338.142 664.928 Q
346.608 663.168 339.192 663.168 DL<83>345.558 664.928 Q 354.024 663.168 346.608
663.168 DL<83>352.974 664.928 Q 361.44 601.032 354.024 663.168 DL<83>360.318
602.792 Q 368.784 589.8 361.368 601.032 DL<83>367.734 591.56 Q 376.2 589.8
368.784 589.8 DL<83>375.15 591.56 Q 383.616 589.8 376.2 589.8 DL<83>382.566
591.56 Q 391.032 589.8 383.616 589.8 DL<83>389.982 591.56 Q 398.448 589.8
391.032 589.8 DL<83>397.326 591.56 Q F2 -1.08(VA)190.944 680.924 S 2(X8)1.08 G
(650 with 9720, rotational delay of 5 ms)213.192 680.924 Q EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(1-)238.535 51 S/F1 8
/Times-Roman@0 SF(Figure 2:)132.987 93 Q(Ef)6 E(fect of)-.2 E/F2 8
/Times-Italic@0 SF(sdist)2 E F1(and rotational delay on a sequential read)2 E
F0(This ef)72 117.6 Q
(fect of the rotational delay is increased for disks with lar)-.25 E
(ge numbers of sec-)-.18 E
(tors per track since the number of sectors per track is in the numerator of)72
132.6 Q(equation \(2\).)72 147.6 Q
(The drop in Figure 2 between a distance of 1 sector and a distance of 3 sec-)
97 166.2 Q(tors is identical to the drop in Figure 1 for this processor)72
181.2 Q 5(.W)-.55 G 2.5(ee)312.85 181.2 S(xpect this, since the)324.08 181.2 Q
(amount of processor time required to handle the search-complete interrupt and)
72 196.2 Q(start the ne)72 211.2 Q
(xt operation is dependent only on the processor and the sequence of)-.15 E
(instructions that must be e)72 226.2 Q -.15(xe)-.15 G(cuted in the de).15 E
(vice dri)-.25 E -.15(ve)-.25 G 3.6 -.55(r. T).15 H(his means that if we mea-)
.55 E(sure the)72 241.2 Q/F3 10/Times-Italic@0 SF(sdist)2.5 E F0 -.25(va)3.333
G(lue for a particular processor).25 E 2.5(,d)-.4 G -.25(ev)261.303 241.2 S
(ice dri).25 E -.15(ve)-.25 G .8 -.4(r, a).15 H(nd disk dri).4 E -.15(ve)-.25 G
2.5(,w).15 G 2.5(ec)381.213 241.2 S(an)392.593 241.2 Q(calculate the v)72 256.2
Q(alue for an)-.25 E 2.5(yo)-.15 G(ther disk dri)184.62 256.2 Q .3 -.15(ve t)
-.25 H(hat uses the same processor and de).15 E(vice)-.25 E(dri)72 271.2 Q -.15
(ve)-.25 G 3.6 -.55(r. F).15 H(or e).4 E(xample, both Figures 1 and 2 sho)-.15
E 2.5(wt)-.25 G(hat the)268.26 271.2 Q F3(hp)2.5 E F0(dri)3.333 E -.15(ve)-.25
G 2.5(ro).15 G 2.5(naV)342.013 271.2 S(AX 8650)362.323 271.2 Q(requires about \
735 microseconds to handle the search-complete interrupt and start)72 286.2 Q
(another read.)72 301.2 Q
(This is because both Figures 1 and 2 \215atten out at a distance of)5 E 2.5
(3s)72 316.2 S(ectors, and the time per sector is 245 microseconds from T)83.39
316.2 Q(able 1.)-.8 E(Gi)5 E -.15(ve)-.25 G 2.5(nt).15 G(he)378.25 316.2 Q
(\214rst four numbers in T)72 331.2 Q(able 1 for an)-.8 E 2.5(yo)-.15 G
(ther disk dri)224.36 331.2 Q .3 -.15(ve o)-.25 H 2.5(nt).15 G
(his system, one can calcu-)299.51 331.2 Q
(late the number of sectors corresponding to 735 microseconds.)72 346.2 Q/F4 10
/Times-Bold@0 SF 5(6. Additional)72 376.2 R(Dri)2.5 E -.1(ve)-.1 G 2.5(rM).1 G
(easur)175.13 376.2 Q(ements)-.18 E F0(Another empirical test that we use to v)
72 394.8 Q(erify what is happening in the)-.15 E F3(sdist)2.5 E F0(mea-)3.333 E
(surements is to modify the disk dri)72 409.8 Q -.15(ve)-.25 G 2.5(rt).15 G 2.5
(ok)228.54 409.8 S(eep a counter of what the actual sector)240.94 409.8 Q
(distances are.)72 424.8 Q 1.6 -.8(We h)5 H -2.25 -.2(av e).8 H(modi\214ed the)
2.7 E F3(hp)2.5 E F0(dri)3.333 E -.15(ve)-.25 G 2.5(rt).15 G 2.5(ok)262.353
424.8 S(eep the follo)274.753 424.8 Q(wing counts, for)-.25 E(each disk:)72
439.8 Q 5.28(1. F)97 458.4 R(or e)-.15 E -.15(ve)-.25 G(ry disk operation, ho)
.15 E 2.5(wm)-.25 G(an)242.02 458.4 Q 2.5(yt)-.15 G
(imes the disk is already positioned)261.59 458.4 Q(on the correct c)112.28
473.4 Q(ylinder)-.15 E(.)-.55 E 5.28(2. If)97 492 R
(the disk is already on the correct c)2.5 E(ylinder)-.15 E 2.5(,w)-.4 G 2.5(em)
298.35 492 S(aintain a set of coun-)313.07 492 Q
(ters for each sector distance.)112.28 507 Q(The \214rst counter indicates ho)
72 525.6 Q 2.5(wo)-.25 G(ften the)203.12 525.6 Q F3(mindist)2.5 E F0(and)3.333
E F3(maxdist)2.5 E F0 -.25(va)3.333 G(lues are actually).25 E 2.5(used. The)72
540.6 R(second set of counters allo)2.5 E(ws us to b)-.25 E
(uild a histogram of the sector dis-)-.2 E(tances.)72 555.6 Q
(These counters were enabled on the V)97 574.2 Q
(AX 8650 while doing the sequential)-1.35 E
(read of the 8 Mbyte \214le from the pre)72 589.2 Q(vious section.)-.25 E
(The results of the \214rst counter)5 E(sho)72 604.2 Q 2.5(wt)-.25 G
(hat 98% of the time the disk is already positioned on the correct c)98.14
604.2 Q(ylinder)-.15 E(and only 2% of the time is a search command to a ne)72
619.2 Q 2.5(wc)-.25 G(ylinder required.)297.39 619.2 Q 1.6 -.8(We e)5 H(sti-).8
E(mated earlier that it required a minimum of 18 c)72 634.2 Q
(ylinders on either the Eagle disk or)-.15 E
(the 9720 disk to store an 8 Mbyte \214le.)72 649.2 Q(The actual counter sho)5
E(wed that 20 searches)-.25 E(had to be e)72 664.2 Q -.15(xe)-.15 G
(cuted to mo).15 E .3 -.15(ve t)-.15 H 2.5(oa).15 G(nother c)198.32 664.2 Q
(ylinder)-.15 E(.)-.55 E(The second set of counters sho)97 682.8 Q
(ws that 98% of the time the desired sector is)-.25 E(14 sectors a)72 697.8 Q
-.1(wa)-.15 G 2.5(yf).1 G(rom the current position.)141.45 697.8 Q
(The desired sector is 15 sectors a)5 E -.1(wa)-.15 G(y).1 E(1% of the time, a\
nd the remaining 1% of the time the distance is other than 14)72 712.8 Q
(or 15.)72 727.8 Q(This correlates with the v)5 E
(alues in Figure 1 and our discussion in the)-.25 E EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(2-)238.535 51 S(pre)72 87 Q
(vious section.)-.25 E/F1 10/Times-Bold@0 SF 5(7. Selection)72 117 R
(of mindist and maxdist)2.5 E F0(The tests in Sections 6 and 7, ho)72 135.6 Q
(we)-.25 E -.15(ve)-.25 G .8 -.4(r, a).15 H
(re for a special case: the sequential read-).4 E(ing of a lar)72 150.6 Q
(ge \214le with no other system acti)-.18 E(vity)-.25 E 5(.S)-.65 G
(ection 6 sho)270.91 150.6 Q(wed that the v)-.25 E(alue of)-.25 E/F2 10
/Times-Italic@0 SF(mindist)72 165.6 Q F0(is insigni\214cant 99% of the time.)
3.333 E(The v)5 E(alue of)-.25 E F2(maxdist)2.5 E F0(only determines)3.333 E
(whether the dri)72 180.6 Q -.15(ve)-.25 G 2.5(rs).15 G
(tarts the read 14 sectors a)151.3 180.6 Q -.1(wa)-.15 G 2.5(yf).1 G
(rom the desired location, or)274.9 180.6 Q
(whether it relinquishes the controller)72 195.6 Q 5(.T)-.55 G 2.5(op)231.46
195.6 S(ro)243.96 195.6 Q(vide f)-.15 E(ast reading,)-.1 E F2(maxdist)2.5 E F0
(should be)3.333 E(greater than or equal to 15, allo)72 210.6 Q
(wing the disk that just completed the read to start)-.25 E(another read.)72
225.6 Q(Setting)5 E F2(maxdist)2.5 E F0(less than 14 allo)3.333 E
(ws another disk to either issue a)-.25 E(search or start a read or write.)72
240.6 Q(If another disk is ready to start a read or write, it)5 E
(will probably tie up the controller so that the ne)72 255.6 Q
(xt block will be missed.)-.15 E(What should dri)97 274.2 Q .3 -.15(ve t)-.25 H
(he selection of).15 E F2(mindist)2.5 E F0(and)3.333 E F2(maxdist)2.5 E F0
(is the distrib)3.333 E(ution of)-.2 E
(the sector distances for a typical load.)72 289.2 Q(This distrib)5 E(ution w)
-.2 E(as measured on both the)-.1 E -1.35(VA)72 304.2 S(X-11/785 and the V)1.35
E(AX 8650 by enabling the counters described in the pre)-1.35 E(vious)-.25 E
(section for 15 hours during a typical w)72 319.2 Q(ork day)-.1 E 5(.T)-.65 G
(he 785 usually had around)269.83 319.2 Q
(55 users and the most frequent commands were the shell,)72 334.2 Q F2(ls)2.5 E
F0(,).833 E F2(vi)2.5 E F0(,).833 E F2(mor)2.5 E(e)-.37 E F0 2.5(,a).833 G(nd)
359.359 334.2 Q F2(tr)2.5 E(of)-.45 E(f)-.18 E F0(.).833 E(The 8650 w)72 349.2
Q(as used by 30 programmers for program de)-.1 E -.15(ve)-.25 G
(lopment and testing.).15 E(The)5 E(most frequent commands were)72 364.2 Q F2
(ls)2.5 E F0(,).833 E F2(vi)2.5 E F0(,).833 E F2(mak)2.5 E(e)-.1 E F0 2.5(,a)
.833 G(nd the multiple steps of the C com-)254.359 364.2 Q(piler)72 379.2 Q 5
(.T)-.55 G(here were four Eagle disks on the 785 and tw)103.39 379.2 Q 2.5(o9)
-.1 G(720 disks on the 8650.)296.58 379.2 Q(Since there is no `)72 394.2 Q
(`typical')-.74 E 2.5('d)-.74 G(isk usage in a multiuser en)187.44 394.2 Q
(vironment, three dif)-.4 E(ferent)-.25 E(\214lesystems were monitored.)72
409.2 Q(The \214rst \214lesystem we sho)97 427.8 Q 2.5(wi)-.25 G 2.5(sa)216.47
427.8 S 2.5(nE)227.3 427.8 S(agle disk that is the primary user \214lesys-)
240.91 427.8 Q(tem on the 785.)72 442.8 Q
(This is where the home directories for all users are located and)5 E
(where most users k)72 457.8 Q(eep the \214les the)-.1 E 2.5(ye)-.15 G 2.5
(dit. User)223.11 457.8 R(\214lesystems are characterized by)2.5 E(man)72 472.8
Q 2.5(ys)-.15 G(mall \214les.)100.46 472.8 Q(The \214rst counters sho)5 E 2.5
(wt)-.25 G(hat 30.4% of the time the disk is already)243.54 472.8 Q
(on the correct c)72 487.8 Q(ylinder)-.15 E 2.5(,w)-.4 G
(hile 69.6% of the time it is not.)173.92 487.8 Q(The follo)5 E(wing \214gure)
-.25 E(sho)72 502.8 Q(ws the histogram of the sector distances when the disk i\
s already positioned on)-.25 E(the correct c)72 517.8 Q(ylinder)-.15 E(.)-.55 E
398.376 712.8 MT 0 -144 RL -273.6 0 RL 0 144 RL CL .32 LW ST 117.576 712.8
124.776 712.8 DL/F3 8/Times-Roman@0 SF(-0)108.912 714.56 Q 117.576 687.096
124.776 687.096 DL(500)103.576 688.856 Q 117.576 661.392 124.776 661.392 DL
(1000)99.576 663.152 Q 117.576 635.688 124.776 635.688 DL(1500)99.576 637.448 Q
117.576 609.912 124.776 609.912 DL(2000)99.576 611.672 Q 117.576 584.208
124.776 584.208 DL(2500)99.576 585.968 Q(distance in sectors)232.248 744.584 Q
(cumulati)231.188 540.536 Q .24 -.12(ve p)-.2 H(ercent).12 E(count)75.136
642.56 Q 130.392 720 130.392 712.8 DL(0)128.392 730.76 Q 152.712 720 152.712
712.8 DL(4)150.712 730.76 Q 175.032 720 175.032 712.8 DL(8)173.032 730.76 Q
197.352 720 197.352 712.8 DL(12)193.352 730.76 Q 219.744 720 219.744 712.8 DL
(16)215.744 730.76 Q 242.064 720 242.064 712.8 DL(20)238.064 730.76 Q 264.384
720 264.384 712.8 DL(24)260.384 730.76 Q 286.704 720 286.704 712.8 DL(28)
282.704 730.76 Q 309.096 720 309.096 712.8 DL(32)305.096 730.76 Q 331.416 720
331.416 712.8 DL(36)327.416 730.76 Q 353.736 720 353.736 712.8 DL(40)349.736
730.76 Q 376.056 720 376.056 712.8 DL(44)372.056 730.76 Q 398.376 720 398.376
712.8 DL(48)394.376 730.76 Q 127.584 561.6 127.584 568.8 DL(0)125.584 556.16 Q
183.456 561.6 183.456 568.8 DL(21.9)176.456 556.16 Q 211.32 561.6 211.32 568.8
DL(36.6)204.32 556.16 Q 300.672 561.6 300.672 568.8 DL(67.9)293.672 556.16 Q
395.64 561.6 395.64 568.8 DL(100)389.64 556.16 Q 127.584 694.224 127.584 712.8
DL 133.2 694.224 127.584 694.224 DL 133.2 712.8 133.2 694.224 DL 133.2 690.768
133.2 712.8 DL 138.816 690.768 133.2 690.768 DL 138.744 712.8 138.744 690.768
DL 138.744 690.984 138.744 712.8 DL 144.36 690.984 138.744 690.984 DL 144.36
712.8 144.36 690.984 DL 144.36 690.48 144.36 712.8 DL 149.976 690.48 144.36
690.48 DL 149.904 712.8 149.904 690.48 DL 149.904 686.088 149.904 712.8 DL
155.52 686.088 149.904 686.088 DL 155.52 712.8 155.52 686.088 DL 155.52 669.528
155.52 712.8 DL 161.136 669.528 155.52 669.528 DL 161.064 712.8 161.064 669.528
DL 161.064 680.76 161.064 712.8 DL 166.68 680.76 161.064 680.76 DL 166.68 712.8
166.68 680.76 DL 166.68 684.792 166.68 712.8 DL 172.296 684.792 166.68 684.792
DL 172.296 712.8 172.296 684.792 DL 172.296 670.824 172.296 712.8 DL 177.912
670.824 172.296 670.824 DL 177.84 712.8 177.84 670.824 DL 177.84 604.728 177.84
712.8 DL 183.456 604.728 177.84 604.728 DL 183.456 712.8 183.456 604.728 DL
183.456 673.128 183.456 712.8 DL 189.072 673.128 183.456 673.128 DL 189 712.8
189 673.128 DL 189 691.704 189 712.8 DL 194.616 691.704 189 691.704 DL 194.616
712.8 194.616 691.704 DL 194.616 691.488 194.616 712.8 DL 200.232 691.488
194.616 691.488 DL 200.16 712.8 200.16 691.488 DL 200.16 684.36 200.16 712.8 DL
205.776 684.36 200.16 684.36 DL 205.776 712.8 205.776 684.36 DL 205.776 578.592
205.776 712.8 DL 211.392 578.592 205.776 578.592 DL 211.32 712.8 211.32 578.592
DL 211.32 695.952 211.32 712.8 DL 216.936 695.952 211.32 695.952 DL 216.936
712.8 216.936 695.952 DL 216.936 697.392 216.936 712.8 DL 222.552 697.392
216.936 697.392 DL 222.48 712.8 222.48 697.392 DL 222.48 691.92 222.48 712.8 DL
228.096 691.92 222.48 691.92 DL 228.096 712.8 228.096 691.92 DL 228.096 690.408
228.096 712.8 DL 233.712 690.408 228.096 690.408 DL 233.712 712.8 233.712
690.408 DL 233.712 689.76 233.712 712.8 DL 239.328 689.76 233.712 689.76 DL
239.256 712.8 239.256 689.76 DL 239.256 686.592 239.256 712.8 DL 244.872
686.592 239.256 686.592 DL 244.872 712.8 244.872 686.592 DL 244.872 674.712
244.872 712.8 DL 250.488 674.712 244.872 674.712 DL 250.416 712.8 250.416
674.712 DL 250.416 672.48 250.416 712.8 DL 256.032 672.48 250.416 672.48 DL
256.032 712.8 256.032 672.48 DL 256.032 683.928 256.032 712.8 DL 261.648
683.928 256.032 683.928 DL 261.576 712.8 261.576 683.928 DL 261.576 683.712
261.576 712.8 DL 267.192 683.712 261.576 683.712 DL 267.192 712.8 267.192
683.712 DL 267.192 676.728 267.192 712.8 DL 272.808 676.728 267.192 676.728 DL
272.736 712.8 272.736 676.728 DL 272.736 664.488 272.736 712.8 DL 278.352
664.488 272.736 664.488 DL 278.352 712.8 278.352 664.488 DL 278.352 671.688
278.352 712.8 DL 283.968 671.688 278.352 671.688 DL 283.968 712.8 283.968
671.688 DL 283.968 682.704 283.968 712.8 DL 289.584 682.704 283.968 682.704 DL
289.512 712.8 289.512 682.704 DL 289.512 680.688 289.512 712.8 DL 295.128
680.688 289.512 680.688 DL 295.128 712.8 295.128 680.688 DL 295.128 641.16
295.128 712.8 DL 300.744 641.16 295.128 641.16 DL 300.672 712.8 300.672 641.16
DL 300.672 669.96 300.672 712.8 DL 306.288 669.96 300.672 669.96 DL 306.288
712.8 306.288 669.96 DL 306.288 678.168 306.288 712.8 DL 311.904 678.168
306.288 678.168 DL 311.832 712.8 311.832 678.168 DL 311.832 685.872 311.832
712.8 DL 317.448 685.872 311.832 685.872 DL 317.448 712.8 317.448 685.872 DL
317.448 688.176 317.448 712.8 DL 323.064 688.176 317.448 688.176 DL 322.992
712.8 322.992 688.176 DL 322.992 686.592 322.992 712.8 DL 328.608 686.592
322.992 686.592 DL 328.608 712.8 328.608 686.592 DL 328.608 680.544 328.608
712.8 DL 334.224 680.544 328.608 680.544 DL 334.152 712.8 334.152 680.544 DL
334.152 664.128 334.152 712.8 DL 339.768 664.128 334.152 664.128 DL 339.768
712.8 339.768 664.128 DL 339.768 674.568 339.768 712.8 DL 345.384 674.568
339.768 674.568 DL 345.384 712.8 345.384 674.568 DL 345.384 680.112 345.384
712.8 DL 351 680.112 345.384 680.112 DL 350.928 712.8 350.928 680.112 DL
350.928 688.32 350.928 712.8 DL 356.544 688.32 350.928 688.32 DL 356.544 712.8
356.544 688.32 DL 356.544 687.312 356.544 712.8 DL 362.16 687.312 356.544
687.312 DL 362.088 712.8 362.088 687.312 DL 362.088 677.592 362.088 712.8 DL
367.704 677.592 362.088 677.592 DL 367.704 712.8 367.704 677.592 DL 367.704
696.168 367.704 712.8 DL 373.32 696.168 367.704 696.168 DL 373.248 712.8
373.248 696.168 DL 373.248 695.952 373.248 712.8 DL 378.864 695.952 373.248
695.952 DL 378.864 712.8 378.864 695.952 DL 378.864 694.224 378.864 712.8 DL
384.48 694.224 378.864 694.224 DL 384.408 712.8 384.408 694.224 DL 384.408
643.104 384.408 712.8 DL 390.024 643.104 384.408 643.104 DL 390.024 712.8
390.024 643.104 DL 390.024 693.072 390.024 712.8 DL 395.64 693.072 390.024
693.072 DL 395.64 712.8 395.64 693.072 DL(23,251 samples)317.688 591.152 Q EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(3-)238.535 51 S
(The top axis sho)72 87 Q(ws the cumulati)-.25 E .3 -.15(ve p)-.25 H
(ercent, up to and including that distance in).15 E 2.5(sectors. F)72 102 R
(or e)-.15 E(xample, 21.9% of all distances are between 0 and 9 \(inclusi)-.15
E -.15(ve)-.25 G(\);).15 E
(36.6% of all distances are between 0 and 14 \(inclusi)72 117 Q -.15(ve)-.25 G
2.5(\). The).15 F(peak around 14 is)2.5 E
(probably caused by the reading of blocks sequentially from \214les.)72 132 Q
(The slight)5 E(increase at 30 is for reads that are separated by tw)72 147 Q
2.5(o8K)-.1 G(byte \214lesystem blocks.)293.5 147 Q
(The increase at 46 is for blocks that are a complete re)72 162 Q -.2(vo)-.25 G
(lution a).2 E -.1(wa)-.15 G 3.8 -.65(y. T).1 H(his happens).65 E
(when a read or write completes, and the ne)72 177 Q
(xt request on the queue is for the ne)-.15 E(xt)-.15 E(contiguous sector)72
192 Q 2.5(,s)-.4 G(ome)150.76 192 Q(where on the current c)-.25 E(ylinder)-.15
E 5(.B)-.55 G(ut by the time the dri)298.94 192 Q -.15(ve)-.25 G(r).15 E(has p\
rocessed the interrupt for the operation that just completed, the desired sect\
or)72 207 Q(has just passed by)72 222 Q 5(.T)-.65 G(his is an e)156.9 222 Q
(xample where the dri)-.15 E -.15(ve)-.25 G 2.5(rs).15 G
(hould not issue the read)299.93 222 Q(or write, as it w)72 237 Q
(ould tie up the controller for about 16 milliseconds before the data)-.1 E
(transfer can e)72 252 Q -.15(ve)-.25 G 2.5(nb).15 G -.15(eg)147.4 252 S 2.5
(in. In).15 F(this amount of time another disk can, for e)2.5 E(xample, do a)
-.15 E(track-to-track seek, skip o)72 267 Q -.15(ve)-.15 G 2.5(r8s).15 G
(ectors, and then read 16 sectors.)202.22 267 Q(The ne)97 285.6 Q
(xt \214gure is for the root \214lesystem on the 785.)-.15 E(Additionally)5 E
2.5(,t)-.65 G(his disk)367.58 285.6 Q
(contains three other \214lesystem partitions:)72 300.6 Q/F1 10/Times-Italic@0
SF(/usr)2.5 E F0(,).833 E F1(/usr/local)2.5 E F0 2.5(,a).833 G(nd a sw)309.496
300.6 Q(ap partition.)-.1 E(This is a hea)72 315.6 Q(vily used disk dri)-.2 E
-.15(ve)-.25 G 5(.M).15 G(ost e)216.67 315.6 Q -.15(xe)-.15 G
(cutable \214les are read from its dif).15 E(ferent)-.25 E(partitions,)72 330.6
Q F1(/bin)2.5 E F0(,).833 E F1(/usr/bin)2.5 E F0(,).833 E F1(/usr/ucb)2.5 E F0
2.5(,a).833 G(nd)216.179 330.6 Q F1(/usr/local/bin)2.5 E F0 5(.T).833 G
(he root partition also con-)297.022 330.6 Q(tains the)72 345.6 Q F1(/etc)2.5 E
F0(directory)3.333 E 2.5(,w)-.65 G(hich contains frequently accessed \214les.)
173.553 345.6 Q(The sw)5 E(ap parti-)-.1 E(tion is not used hea)72 360.6 Q
(vily)-.2 E 2.5(,a)-.65 G 2.5(st)173.37 360.6 S
(he system has enough memory \(24 Mbytes\) to pre)182.54 360.6 Q -.15(ve)-.25 G
(nt).15 E(most paging and sw)72 375.6 Q 2.5(apping. Only)-.1 F
(26.0% of the requests found the disk already)2.5 E
(positioned on the correct c)72 390.6 Q(ylinder)-.15 E 5(.T)-.55 G(his lo)
219.33 390.6 Q 2.5(wv)-.25 G(alue is probably because there are)255.5 390.6 Q
(four dif)72 405.6 Q(ferent partitions in use on the disk.)-.25 E(The distrib)5
E(ution of these requests for)-.2 E(the dif)72 420.6 Q
(ferent sector distances is gi)-.25 E -.15(ve)-.25 G 2.5(nb).15 G(elo)227.43
420.6 Q -.65(w.)-.25 G 398.376 615.6 MT 0 -144 RL -273.6 0 RL 0 144 RL CL .32
LW ST 117.576 615.6 124.776 615.6 DL/F2 8/Times-Roman@0 SF(-0)108.912 617.36 Q
117.576 583.632 124.776 583.632 DL(2000)99.576 585.392 Q 117.576 551.592
124.776 551.592 DL(4000)99.576 553.352 Q 117.576 519.624 124.776 519.624 DL
(6000)99.576 521.384 Q 117.576 487.584 124.776 487.584 DL(8000)99.576 489.344 Q
(distance in sectors)232.248 647.384 Q(cumulati)231.188 443.336 Q .24 -.12
(ve p)-.2 H(ercent).12 E(count)75.136 545.36 Q 130.392 622.8 130.392 615.6 DL
(0)128.392 633.56 Q 152.712 622.8 152.712 615.6 DL(4)150.712 633.56 Q 175.032
622.8 175.032 615.6 DL(8)173.032 633.56 Q 197.352 622.8 197.352 615.6 DL(12)
193.352 633.56 Q 219.744 622.8 219.744 615.6 DL(16)215.744 633.56 Q 242.064
622.8 242.064 615.6 DL(20)238.064 633.56 Q 264.384 622.8 264.384 615.6 DL(24)
260.384 633.56 Q 286.704 622.8 286.704 615.6 DL(28)282.704 633.56 Q 309.096
622.8 309.096 615.6 DL(32)305.096 633.56 Q 331.416 622.8 331.416 615.6 DL(36)
327.416 633.56 Q 353.736 622.8 353.736 615.6 DL(40)349.736 633.56 Q 376.056
622.8 376.056 615.6 DL(44)372.056 633.56 Q 398.376 622.8 398.376 615.6 DL(48)
394.376 633.56 Q 127.584 464.4 127.584 471.6 DL(0)125.584 458.96 Q 216.936
464.4 216.936 471.6 DL(35.4)209.936 458.96 Q 306.288 464.4 306.288 471.6 DL
(70.9)299.288 458.96 Q 395.64 464.4 395.64 471.6 DL(100)389.64 458.96 Q 127.584
600.984 127.584 615.6 DL 133.2 600.984 127.584 600.984 DL 133.2 615.6 133.2
600.984 DL 133.2 600.336 133.2 615.6 DL 138.816 600.336 133.2 600.336 DL
138.744 615.6 138.744 600.336 DL 138.744 597.456 138.744 615.6 DL 144.36
597.456 138.744 597.456 DL 144.36 615.6 144.36 597.456 DL 144.36 599.616 144.36
615.6 DL 149.976 599.616 144.36 599.616 DL 149.904 615.6 149.904 599.616 DL
149.904 599.76 149.904 615.6 DL 155.52 599.76 149.904 599.76 DL 155.52 615.6
155.52 599.76 DL 155.52 596.448 155.52 615.6 DL 161.136 596.448 155.52 596.448
DL 161.064 615.6 161.064 596.448 DL 161.064 587.088 161.064 615.6 DL 166.68
587.088 161.064 587.088 DL 166.68 615.6 166.68 587.088 DL 166.68 589.824 166.68
615.6 DL 172.296 589.824 166.68 589.824 DL 172.296 615.6 172.296 589.824 DL
172.296 587.88 172.296 615.6 DL 177.912 587.88 172.296 587.88 DL 177.84 615.6
177.84 587.88 DL 177.84 576 177.84 615.6 DL 183.456 576 177.84 576 DL 183.456
615.6 183.456 576 DL 183.456 587.808 183.456 615.6 DL 189.072 587.808 183.456
587.808 DL 189 615.6 189 587.808 DL 189 578.376 189 615.6 DL 194.616 578.376
189 578.376 DL 194.616 615.6 194.616 578.376 DL 194.616 594.288 194.616 615.6
DL 200.232 594.288 194.616 594.288 DL 200.16 615.6 200.16 594.288 DL 200.16
594.432 200.16 615.6 DL 205.776 594.432 200.16 594.432 DL 205.776 615.6 205.776
594.432 DL 205.776 553.824 205.776 615.6 DL 211.392 553.824 205.776 553.824 DL
211.32 615.6 211.32 553.824 DL 211.32 486.648 211.32 615.6 DL 216.936 486.648
211.32 486.648 DL 216.936 615.6 216.936 486.648 DL 216.936 600.408 216.936
615.6 DL 222.552 600.408 216.936 600.408 DL 222.48 615.6 222.48 600.408 DL
222.48 600.48 222.48 615.6 DL 228.096 600.48 222.48 600.48 DL 228.096 615.6
228.096 600.48 DL 228.096 598.248 228.096 615.6 DL 233.712 598.248 228.096
598.248 DL 233.712 615.6 233.712 598.248 DL 233.712 593.136 233.712 615.6 DL
239.328 593.136 233.712 593.136 DL 239.256 615.6 239.256 593.136 DL 239.256
596.376 239.256 615.6 DL 244.872 596.376 239.256 596.376 DL 244.872 615.6
244.872 596.376 DL 244.872 593.496 244.872 615.6 DL 250.488 593.496 244.872
593.496 DL 250.416 615.6 250.416 593.496 DL 250.416 591.192 250.416 615.6 DL
256.032 591.192 250.416 591.192 DL 256.032 615.6 256.032 591.192 DL 256.032
578.88 256.032 615.6 DL 261.648 578.88 256.032 578.88 DL 261.576 615.6 261.576
578.88 DL 261.576 587.664 261.576 615.6 DL 267.192 587.664 261.576 587.664 DL
267.192 615.6 267.192 587.664 DL 267.192 587.016 267.192 615.6 DL 272.808
587.016 267.192 587.016 DL 272.736 615.6 272.736 587.016 DL 272.736 579.456
272.736 615.6 DL 278.352 579.456 272.736 579.456 DL 278.352 615.6 278.352
579.456 DL 278.352 575.856 278.352 615.6 DL 283.968 575.856 278.352 575.856 DL
283.968 615.6 283.968 575.856 DL 283.968 586.296 283.968 615.6 DL 289.584
586.296 283.968 586.296 DL 289.512 615.6 289.512 586.296 DL 289.512 582.336
289.512 615.6 DL 295.128 582.336 289.512 582.336 DL 295.128 615.6 295.128
582.336 DL 295.128 577.08 295.128 615.6 DL 300.744 577.08 295.128 577.08 DL
300.672 615.6 300.672 577.08 DL 300.672 502.128 300.672 615.6 DL 306.288
502.128 300.672 502.128 DL 306.288 615.6 306.288 502.128 DL 306.288 598.032
306.288 615.6 DL 311.904 598.032 306.288 598.032 DL 311.832 615.6 311.832
598.032 DL 311.832 600.552 311.832 615.6 DL 317.448 600.552 311.832 600.552 DL
317.448 615.6 317.448 600.552 DL 317.448 598.248 317.448 615.6 DL 323.064
598.248 317.448 598.248 DL 322.992 615.6 322.992 598.248 DL 322.992 599.328
322.992 615.6 DL 328.608 599.328 322.992 599.328 DL 328.608 615.6 328.608
599.328 DL 328.608 600.84 328.608 615.6 DL 334.224 600.84 328.608 600.84 DL
334.152 615.6 334.152 600.84 DL 334.152 599.976 334.152 615.6 DL 339.768
599.976 334.152 599.976 DL 339.768 615.6 339.768 599.976 DL 339.768 596.592
339.768 615.6 DL 345.384 596.592 339.768 596.592 DL 345.384 615.6 345.384
596.592 DL 345.384 596.16 345.384 615.6 DL 351 596.16 345.384 596.16 DL 350.928
615.6 350.928 596.16 DL 350.928 598.464 350.928 615.6 DL 356.544 598.464
350.928 598.464 DL 356.544 615.6 356.544 598.464 DL 356.544 596.16 356.544
615.6 DL 362.16 596.16 356.544 596.16 DL 362.088 615.6 362.088 596.16 DL
362.088 591.84 362.088 615.6 DL 367.704 591.84 362.088 591.84 DL 367.704 615.6
367.704 591.84 DL 367.704 589.248 367.704 615.6 DL 373.32 589.248 367.704
589.248 DL 373.248 615.6 373.248 589.248 DL 373.248 600.264 373.248 615.6 DL
378.864 600.264 373.248 600.264 DL 378.864 615.6 378.864 600.264 DL 378.864
598.824 378.864 615.6 DL 384.48 598.824 378.864 598.824 DL 384.408 615.6
384.408 598.824 DL 384.408 577.368 384.408 615.6 DL 390.024 577.368 384.408
577.368 DL 390.024 615.6 390.024 577.368 DL 390.024 482.04 390.024 615.6 DL
395.64 482.04 390.024 482.04 DL 395.64 615.6 395.64 482.04 DL(91,517 samples)
317.688 490.928 Q F0(The \214nal histogram we sho)97 670.2 Q 2.5(wi)-.25 G 2.5
(sf)218.13 670.2 S(or a 9720 disk that only contains the)227.85 670.2 Q F1
(/tmp)2.5 E F0(\214lesystem for the 8650.)72 685.2 Q
(This \214lesystem is characterized by the writing and then)5 E
(reading of temporary \214les.)72 700.2 Q -.15(Fo)5 G 2.5(r4).15 G
(8.5% of the requests the disk w)204.33 700.2 Q(as already posi-)-.1 E
(tioned on the correct c)72 715.2 Q(ylinder)-.15 E 5(.F)-.55 G
(or these cases the histogram of the sector dis-)201.96 715.2 Q(tances is gi)72
730.2 Q -.15(ve)-.25 G 2.5(nb).15 G(elo)137.98 730.2 Q -.65(w.)-.25 G EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(4-)238.535 51 S 398.376 267 MT
0 -144 RL -273.6 0 RL 0 144 RL CL .32 LW ST 117.576 267 124.776 267 DL/F1 8
/Times-Roman@0 SF(-0)108.912 268.76 Q 117.576 226.968 124.776 226.968 DL(500)
103.576 228.728 Q 117.576 187.008 124.776 187.008 DL(1000)99.576 188.768 Q
117.576 146.976 124.776 146.976 DL(1500)99.576 148.736 Q(distance in sectors)
232.248 298.784 Q(cumulati)231.188 94.736 Q .24 -.12(ve p)-.2 H(ercent).12 E
(count)75.136 196.76 Q 128.736 274.2 128.736 267 DL(0)126.736 284.96 Q 144.648
274.2 144.648 267 DL(4)142.648 284.96 Q 160.488 274.2 160.488 267 DL(8)158.488
284.96 Q 176.328 274.2 176.328 267 DL(12)172.328 284.96 Q 192.24 274.2 192.24
267 DL(16)188.24 284.96 Q 208.08 274.2 208.08 267 DL(20)204.08 284.96 Q 223.92
274.2 223.92 267 DL(24)219.92 284.96 Q 239.76 274.2 239.76 267 DL(28)235.76
284.96 Q 255.672 274.2 255.672 267 DL(32)251.672 284.96 Q 271.512 274.2 271.512
267 DL(36)267.512 284.96 Q 287.352 274.2 287.352 267 DL(40)283.352 284.96 Q
303.264 274.2 303.264 267 DL(44)299.264 284.96 Q 319.104 274.2 319.104 267 DL
(48)315.104 284.96 Q 334.944 274.2 334.944 267 DL(52)330.944 284.96 Q 350.784
274.2 350.784 267 DL(56)346.784 284.96 Q 366.696 274.2 366.696 267 DL(60)
362.696 284.96 Q 382.536 274.2 382.536 267 DL(64)378.536 284.96 Q 398.376 274.2
398.376 267 DL(68)394.376 284.96 Q 126.792 115.8 126.792 123 DL(0)124.792
110.36 Q 170.424 115.8 170.424 123 DL(17.0)163.424 110.36 Q 190.224 115.8
190.224 123 DL(31.5)183.224 110.36 Q 396.432 115.8 396.432 123 DL(100)390.432
110.36 Q 126.792 248.352 126.792 267 DL 130.752 248.352 126.792 248.352 DL
130.752 267 130.752 248.352 DL 130.752 245.328 130.752 267 DL 134.712 245.328
130.752 245.328 DL 134.712 267 134.712 245.328 DL 134.712 241.368 134.712 267
DL 138.672 241.368 134.712 241.368 DL 138.672 267 138.672 241.368 DL 138.672
236.616 138.672 267 DL 142.632 236.616 138.672 236.616 DL 142.632 267 142.632
236.616 DL 142.632 248.712 142.632 267 DL 146.592 248.712 142.632 248.712 DL
146.592 267 146.592 248.712 DL 146.592 250.296 146.592 267 DL 150.552 250.296
146.592 250.296 DL 150.552 267 150.552 250.296 DL 150.552 247.704 150.552 267
DL 154.512 247.704 150.552 247.704 DL 154.512 267 154.512 247.704 DL 154.512
242.376 154.512 267 DL 158.472 242.376 154.512 242.376 DL 158.472 267 158.472
242.376 DL 158.472 243.744 158.472 267 DL 162.432 243.744 158.472 243.744 DL
162.504 267 162.504 243.744 DL 162.504 219.264 162.504 267 DL 166.464 219.264
162.504 219.264 DL 166.464 267 166.464 219.264 DL 166.464 149.496 166.464 267
DL 170.424 149.496 166.464 149.496 DL 170.424 267 170.424 149.496 DL 170.424
201.336 170.424 267 DL 174.384 201.336 170.424 201.336 DL 174.384 267 174.384
201.336 DL 174.384 251.448 174.384 267 DL 178.344 251.448 174.384 251.448 DL
178.344 267 178.344 251.448 DL 178.344 245.544 178.344 267 DL 182.304 245.544
178.344 245.544 DL 182.304 267 182.304 245.544 DL 182.304 192.984 182.304 267
DL 186.264 192.984 182.304 192.984 DL 186.264 267 186.264 192.984 DL 186.264
133.08 186.264 267 DL 190.224 133.08 186.264 133.08 DL 190.224 267 190.224
133.08 DL 190.224 248.136 190.224 267 DL 194.184 248.136 190.224 248.136 DL
194.184 267 194.184 248.136 DL 194.184 246.84 194.184 267 DL 198.144 246.84
194.184 246.84 DL 198.144 267 198.144 246.84 DL 198.144 240.936 198.144 267 DL
202.104 240.936 198.144 240.936 DL 202.104 267 202.104 240.936 DL 202.104
227.112 202.104 267 DL 206.064 227.112 202.104 227.112 DL 206.064 267 206.064
227.112 DL 206.064 253.608 206.064 267 DL 210.024 253.608 206.064 253.608 DL
210.024 267 210.024 253.608 DL 210.024 247.344 210.024 267 DL 213.984 247.344
210.024 247.344 DL 213.984 267 213.984 247.344 DL 213.984 245.832 213.984 267
DL 217.944 245.832 213.984 245.832 DL 218.016 267 218.016 245.832 DL 218.016
232.368 218.016 267 DL 221.976 232.368 218.016 232.368 DL 221.976 267 221.976
232.368 DL 221.976 245.4 221.976 267 DL 225.936 245.4 221.976 245.4 DL 225.936
267 225.936 245.4 DL 225.936 235.824 225.936 267 DL 229.896 235.824 225.936
235.824 DL 229.896 267 229.896 235.824 DL 229.896 227.112 229.896 267 DL
233.856 227.112 229.896 227.112 DL 233.856 267 233.856 227.112 DL 233.856
228.912 233.856 267 DL 237.816 228.912 233.856 228.912 DL 237.816 267 237.816
228.912 DL 237.816 242.952 237.816 267 DL 241.776 242.952 237.816 242.952 DL
241.776 267 241.776 242.952 DL 241.776 243.672 241.776 267 DL 245.736 243.672
241.776 243.672 DL 245.736 267 245.736 243.672 DL 245.736 240.216 245.736 267
DL 249.696 240.216 245.736 240.216 DL 249.696 267 249.696 240.216 DL 249.696
228.264 249.696 267 DL 253.656 228.264 249.696 228.264 DL 253.656 267 253.656
228.264 DL 253.656 251.88 253.656 267 DL 257.616 251.88 253.656 251.88 DL
257.616 267 257.616 251.88 DL 257.616 249 257.616 267 DL 261.576 249 257.616
249 DL 261.576 267 261.576 249 DL 261.576 246.408 261.576 267 DL 265.536
246.408 261.576 246.408 DL 265.536 267 265.536 246.408 DL 265.536 229.776
265.536 267 DL 269.496 229.776 265.536 229.776 DL 269.496 267 269.496 229.776
DL 269.496 250.296 269.496 267 DL 273.456 250.296 269.496 250.296 DL 273.528
267 273.528 250.296 DL 273.528 244.536 273.528 267 DL 277.488 244.536 273.528
244.536 DL 277.488 267 277.488 244.536 DL 277.488 247.056 277.488 267 DL
281.448 247.056 277.488 247.056 DL 281.448 267 281.448 247.056 DL 281.448
229.416 281.448 267 DL 285.408 229.416 281.448 229.416 DL 285.408 267 285.408
229.416 DL 285.408 234.744 285.408 267 DL 289.368 234.744 285.408 234.744 DL
289.368 267 289.368 234.744 DL 289.368 219.48 289.368 267 DL 293.328 219.48
289.368 219.48 DL 293.328 267 293.328 219.48 DL 293.328 232.224 293.328 267 DL
297.288 232.224 293.328 232.224 DL 297.288 267 297.288 232.224 DL 297.288
211.992 297.288 267 DL 301.248 211.992 297.288 211.992 DL 301.248 267 301.248
211.992 DL 301.248 238.128 301.248 267 DL 305.208 238.128 301.248 238.128 DL
305.208 267 305.208 238.128 DL 305.208 237.264 305.208 267 DL 309.168 237.264
305.208 237.264 DL 309.168 267 309.168 237.264 DL 309.168 229.632 309.168 267
DL 313.128 229.632 309.168 229.632 DL 313.128 267 313.128 229.632 DL 313.128
222.648 313.128 267 DL 317.088 222.648 313.128 222.648 DL 317.088 267 317.088
222.648 DL 317.088 244.248 317.088 267 DL 321.048 244.248 317.088 244.248 DL
321.048 267 321.048 244.248 DL 321.048 207.456 321.048 267 DL 325.008 207.456
321.048 207.456 DL 325.008 267 325.008 207.456 DL 325.008 198.024 325.008 267
DL 328.968 198.024 325.008 198.024 DL 329.04 267 329.04 198.024 DL 329.04
246.84 329.04 267 DL 333 246.84 329.04 246.84 DL 333 267 333 246.84 DL 333
253.176 333 267 DL 336.96 253.176 333 253.176 DL 336.96 267 336.96 253.176 DL
336.96 248.352 336.96 267 DL 340.92 248.352 336.96 248.352 DL 340.92 267 340.92
248.352 DL 340.92 248.568 340.92 267 DL 344.88 248.568 340.92 248.568 DL 344.88
267 344.88 248.568 DL 344.88 239.712 344.88 267 DL 348.84 239.712 344.88
239.712 DL 348.84 267 348.84 239.712 DL 348.84 250.512 348.84 267 DL 352.8
250.512 348.84 250.512 DL 352.8 267 352.8 250.512 DL 352.8 249.864 352.8 267 DL
356.76 249.864 352.8 249.864 DL 356.76 267 356.76 249.864 DL 356.76 249 356.76
267 DL 360.72 249 356.76 249 DL 360.72 267 360.72 249 DL 360.72 243.456 360.72
267 DL 364.68 243.456 360.72 243.456 DL 364.68 267 364.68 243.456 DL 364.68
250.152 364.68 267 DL 368.64 250.152 364.68 250.152 DL 368.64 267 368.64
250.152 DL 368.64 249.936 368.64 267 DL 372.6 249.936 368.64 249.936 DL 372.6
267 372.6 249.936 DL 372.6 245.616 372.6 267 DL 376.56 245.616 372.6 245.616 DL
376.56 267 376.56 245.616 DL 376.56 238.848 376.56 267 DL 380.52 238.848 376.56
238.848 DL 380.592 267 380.592 238.848 DL 380.592 248.928 380.592 267 DL
384.552 248.928 380.592 248.928 DL 384.552 267 384.552 248.928 DL 384.552
236.688 384.552 267 DL 388.512 236.688 384.552 236.688 DL 388.512 267 388.512
236.688 DL 388.512 243.096 388.512 267 DL 392.472 243.096 388.512 243.096 DL
392.472 267 392.472 243.096 DL 392.472 219.192 392.472 267 DL 396.432 219.192
392.472 219.192 DL 396.432 267 396.432 219.192 DL(26,723 samples)325.896
148.736 Q F0(Ha)97 321.6 Q
(ving some actual histograms of the sector distances, we can no)-.2 E 2.5(wm)
-.25 G(ak)376.5 321.6 Q(e)-.1 E(reasonable choices for the)72 336.6 Q/F2 10
/Times-Italic@0 SF(mindist)2.5 E F0(and)3.333 E F2(maxdist)2.5 E F0 -.25(va)
3.333 G 2.5(lues. W).25 F 2.5(ec)-.8 G(hoose a v)315.616 336.6 Q(alue of)-.25 E
F2(mindist)72 351.6 Q F0(of 2 for the 8650 and 4 for the 785.)3.333 E 1.6 -.8
(We w)5 H(ant to mak).7 E 2.5(ec)-.1 G(ertain that the)326.513 351.6 Q(dri)72
366.6 Q -.15(ve)-.25 G 2.5(rh).15 G(as enough time to issue the ne)102.98 366.6
Q(xt read or write command, before that sector)-.15 E(has gone by)72 381.6 Q 5
(.W)-.65 G 2.5(ec)135.26 381.6 S(hoose a lar)146.64 381.6 Q(ger v)-.18 E
(alue on the slo)-.25 E(wer system \(the 785\), since the)-.25 E
(same sequence of instructions has to be e)72 396.6 Q -.15(xe)-.15 G
(cuted on both systems.).15 E -.15(Fo)97 415.2 S 2.5(rb).15 G
(oth the 785 and the 8650 we choose a)118.24 415.2 Q F2(maxdist)2.5 E F0 -.25
(va)3.333 G(lue of 16.).25 E(From the)5 E(three histograms abo)72 430.2 Q -.15
(ve)-.15 G 2.5(,t).15 G(his guarantees that we immediately read or write the)
172.24 430.2 Q
(blocks that cause the histograms to peak between distances of 9 and 15.)72
445.2 Q(In all)5 E(three histograms, distances of less than 16 sectors account\
 for about one-third of)72 460.2 Q
(the cases when the disk is already positioned on the correct c)72 475.2 Q
(ylinder)-.15 E 5(.T)-.55 G 2.5(oa)356 475.2 S(ccount)367.94 475.2 Q
(for a higher percentage of the cases,)72 490.2 Q F2(maxdist)2.5 E F0
(must be at least 32.)3.333 E(But for the Eagle)5 E(this ties up the controlle\
r for up to 10 milliseconds, which is time that can be spent)72 505.2 Q
(servicing another disk.)72 520.2 Q/F3 10/Times-Bold@0 SF 5(8. Summary)72 550.2
R F0(There are tw)72 568.8 Q 2.5(of)-.1 G
(actors that a system manager has control o)133.16 568.8 Q -.15(ve)-.15 G 2.5
(rt).15 G(hat af)320.6 568.8 Q(fect the)-.25 E
(throughput of a disk controller such as the)72 583.8 Q F2(hp)2.5 E F0
(controller used for the tests)3.333 E(described in this paper)72 598.8 Q(.)
-.55 E 5.28(1. The)97 617.4 R -.25(va)2.5 G(lues of the three parameters).25 E
F2(mindist)2.5 E F0(,).833 E F2(maxdist)2.5 E F0 2.5(,a).833 G(nd)329.206 617.4
Q F2(sdist)2.5 E F0(.).833 E 5.28(2. The)97 636 R
(spacing that results from the rotational delay between sequential)2.5 E
(blocks of a \214le.)112.28 651 Q 1.6 -.8(We c)72 669.6 T(an pro).8 E
(vide the follo)-.15 E(wing recommendations for users of either the 4.3BSD or)
-.25 E(the 4.3BSD T)72 684.6 Q(ahoe systems:)-.8 E 5.28(1. W)97 703.2 R
(ith the 4.3BSD release \(not the T)-.4 E
(ahoe release\) one should \214x the dri)-.8 E -.15(ve)-.25 G(r).15 E -.2(bu)
112.28 718.2 S(gs ha).2 E(ving to do with the incorrect setting of the)-.2 E F2
(sc_doseek)2.5 E F0(\215ag and the)3.333 E -.74(``)112.28 733.2 S -1.95(if ')
.74 F 2.5('s)-.74 G
(tatement that compares the distance to the desired sector ag)137.17 733.2 Q
(ainst)-.05 E EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(5-)238.535 51 S/F1 10
/Times-Italic@0 SF(mindist)112.28 87 Q F0(and)3.333 E F1(maxdist)2.5 E F0(.)
.833 E 5.28(2. Measure)97 105.6 R(the)2.5 E F1(sdist)2.5 E F0
(parameter for the processor being used.)3.333 E(This is criti-)5 E
(cal to good performance.)112.28 120.6 Q(This measurement also v)5 E
(eri\214es the rotational)-.15 E(delay between sequential blocks in a \214le.)
112.28 135.6 Q(If the rotational delay is too)5 E(lar)112.28 150.6 Q
(ge, use the)-.18 E F1(tunefs)2.5 E F0(command to reduce it.)3.333 E
(The spacing sho)5 E(wn by these)-.25 E
(measurements should correspond with the v)112.28 165.6 Q(alue calculated by)
-.25 E(equation \(2\).)112.28 180.6 Q 5.28(3. Choose)97 199.2 R(reasonable v)
2.5 E(alues for)-.25 E F1(mindist)2.5 E F0(and)3.333 E F1(maxdist)2.5 E F0
(as described in)3.333 E(Section 7.)112.28 214.2 Q
(Be sure to maintain the relationships of inequality \(1\).)5 E/F2 10
/Times-Bold@0 SF -.25(Ap)72 247.8 S(pendix A:).25 E(The Original T)72 262.8 Q
(uning Method)-.92 E F0(The follo)72 281.4 Q
(wing is the Usenet posting from September 1988 on ho)-.25 E 2.5(wt)-.25 G 2.5
(ot)341.76 281.4 S(une the)352.04 281.4 Q F1(d1)2.5 E F0(,).833 E F1(d2)72
296.4 Q F0 2.5(,a).833 G(nd)92.273 296.4 Q F1(d3)2.5 E F0(parameters.)3.333 E
(Subject: Ho)72 315 Q 2.5(wt)-.25 G 2.5(ot)131.75 315 S
(une d1, d2, d3 params in /etc/disktab)142.03 315 Q(Inde)72 330 Q
(x: etc/disktab 4.3BSD-tahoe)-.15 E -.15(Fo)72 352.5 S 2.5(rt).15 G
(hose of you that are interested in maximizing the performance of your disks,)
91.02 352.5 Q(here is an empirical procedure de)72 367.5 Q -.15(ve)-.25 G
(loped by T).15 E(om Ferrin \(tef@cgl.ucsf.edu\) to tune)-.8 E(the dri)72 382.5
Q .3 -.15(ve d)-.25 H(ependent parameters for disk controllers that ha).15 E .3
-.15(ve s)-.2 H(earch capabilities.).15 E(CSRG w)72 397.5 Q
(ould be interested in getting e)-.1 E(xperimental results for other dri)-.15 E
-.15(ve)-.25 G 2.5(si).15 G(n)371.6 397.5 Q
(/etc/disktab and also in hearing of re\214nements to this procedure.)72 412.5
Q(Here is the procedure to empirically determine the correct dri)72 435 Q -.15
(ve)-.25 G(-dependent param-).15 E(eters for "HP" type disks.)72 450 Q
(This technique impro)5 E -.15(ve)-.15 G 2.5(db).15 G
(oth read and write times for)285.95 450 Q(an NEC2362 dri)72 465 Q .3 -.15
(ve b)-.25 H 2.5(ym).15 G(ore than 2x!)169.37 465 Q
(Since the "doubleeagle" params were used as)5 E 2.5(as)72 480 S
(tarting point, throughput to that dri)82.83 480 Q .3 -.15(ve c)-.25 H
(ould probably be impro).15 E -.15(ve)-.15 G 2.5(dc).15 G(onsiderably)353.5 480
Q(as well since the ph)72 495 Q(ysical characteristics of the tw)-.05 E 2.5(od)
-.1 G(ri)283.75 495 Q -.15(ve)-.25 G 2.5(sa).15 G(re v)309.73 495 Q
(ery similar)-.15 E 5(.T)-.55 G(he)380.96 495 Q(throughput is no)72 510 Q 2.5
(wn)-.25 G(early 1MB/sec on writes \(995 KB/s to be e)152.03 510 Q
(xact\) and 842 KB/s)-.15 E(on reads.)72 525 Q(Here is the method:)72 547.5 Q
15(0. format)97 566.1 R(the dri)2.5 E .3 -.15(ve a)-.25 H(nd b).15 E
(uild the badblock table.)-.2 E 15(1. set)97 584.7 R
(d3 \(sdist\) to something lar)2.5 E(ge, say 20.)-.18 E 15(2. set)97 603.3 R
(d1 \(mindist\) to 0.)2.5 E 15(3. set)97 621.9 R
(d2 \(maxdist\) to #sectors/track - 1 \(63 for the NEC\).)2.5 E 15(4. write)97
640.5 R(out these parameters using disklabel.)2.5 E 15(5. ne)97 659.1 R
(wfs a \214lesystem and mount it.)-.25 E
(This essentially disables the "search" capability of the dri)72 677.7 Q -.15
(ve)-.25 G 2.5(rs).15 G 2.5(ot)320 677.7 S(han whene)330.28 677.7 Q -.15(ve)
-.25 G 2.5(rt).15 G(he)390.97 677.7 Q(dri)72 692.7 Q .3 -.15(ve i)-.25 H 2.5
(sp).15 G(ositioned on the proper c)108.82 692.7 Q(ylinder the dri)-.15 E -.15
(ve)-.25 G 2.5(ri).15 G(mmediately issues a data xfer)282.41 692.7 Q 2.5
(command. This)72 707.7 R(will minimize the data transfer time at the e)2.5 E
(xpense of tying up the)-.15 E
(controller for a longer period \(possibly for a complete re)72 722.7 Q -.2(vo)
-.25 G(lution [~17ms]\).).2 E(No)5 E(w)-.25 E EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(6-)238.535 51 S(use Mik)72 87 Q
(e')-.1 E 2.5(s")-.55 G(write_8192" program \(w)122.09 87 Q
(as in ~karels/tests on the distrib)-.1 E(ution tape\) to)-.2 E
(write a 8MB \214le out to the \214lesystem.)72 102 Q
(Optimize maxdist as follo)72 124.5 Q(ws:)-.25 E 15(6. use)97 143.1 R
(the read_8192 program to determine the real time required to read)2.5 E
(the data \214le.)122 158.1 Q(\(do 4 - 6 runs to mak)5 E 2.5(es)-.1 G
(ure there are no abnormalities on)270.77 158.1 Q 2.5(ap)122 173.1 S
(articular run\).)133.94 173.1 Q 15(7. reduce)97 191.7 R
(maxdist \(d2\) by 10 in disktab, write it out with disklabel, and)2.5 E
(do step #6 ag)122 206.7 Q(ain.)-.05 E
(The real time required to read the \214le should remain relati)72 225.3 Q -.15
(ve)-.25 G(ly constant until).15 E
(maxdist gets too small, then the time will suddenly jump up as you be)72 240.3
Q(gin missing)-.15 E(re)72 255.3 Q(vs on the xfer)-.25 E 5(.D)-.55 G
(ecrease the step size from 10 to 5 and iterate ag)148.4 255.3 Q
(ain, \214nally)-.05 E(choosing a v)72 270.3 Q(alue a a little lar)-.25 E
(ger than the "cut of)-.18 E(f" v)-.25 E 2.5(alue. \(It)-.25 F
(is much better to be)2.5 E(conserv)72 285.3 Q(ati)-.25 E -.15(ve)-.25 G(.\))
.15 E(Optimize mindist by increasing it upw)72 307.8 Q
(ards from 0 using a step size of 1 or 2, ag)-.1 E(ain)-.05 E
(using read_8192 as the benchmark.)72 322.8 Q -1.1(Yo)5 G 2.5(uw)1.1 G
(ill see that time required to read the \214le)244.2 322.8 Q
(will initially be small, b)72 337.8 Q(ut then will start creeping upw)-.2 E
(ards as the dri)-.1 E -.15(ve)-.25 G 2.5(rb).15 G -.15(eg)364.61 337.8 S(ins)
.15 E(issuing "search" commands when it could be starting a read directly)72
352.8 Q 5(.B)-.65 G(ack of)356.97 352.8 Q 2.5(f1)-.25 G(or 2 sectors from the \
point where the \214le read time \214rst starting increasing.)72 367.8 Q
(\(Being)5 E(conserv)72 382.8 Q(ati)-.25 E .3 -.15(ve i)-.25 H 2.5(sl).15 G
(ess critical here.\))136.34 382.8 Q(Mindist and maxdist determine the windo)72
405.3 Q 2.5(w\()-.25 G(measured in sectors\) from which the)251.74 405.3 Q(dri)
72 420.3 Q -.15(ve)-.25 G 2.5(rd).15 G(etermines to whether to be)102.98 420.3
Q(gin a data xfer immediately or to do a "search")-.15 E(command \214rst \(pos\
sibly freeing the controller for a data xfer on another dri)72 435.3 Q -.15(ve)
-.25 G(\).).15 E -1.11(Va)72 450.3 S(lues of 2 and 15 w)1.11 E(ork)-.1 E
(ed best for mindist and maxdist on a NEC D2362, using)-.1 E(an Emule)72 465.3
Q 2.5(xS)-.15 G(C7003 controller on a V)122.96 465.3 Q(AX8650.)-1.35 E
(Lastly optimize sdist in the same w)72 487.8 Q(ay you optimized maxdist.)-.1 E
2.5(Av)5 G(alue of 5 is rea-)338.59 487.8 Q(sonable \(f)72 502.8 Q(ar dif)-.1 E
(ferent than the 15 originally found in disktab\).)-.25 E(Ag)5 E
(ain it is better to)-.05 E(error on the conserv)72 517.8 Q(ati)-.25 E .3 -.15
(ve s)-.25 H(ide, since being too liberal causes you to miss a re).15 E -.65
(v,)-.25 G(while being too conserv)72 532.8 Q(ati)-.25 E .3 -.15(ve j)-.25 H
(ust ties up the controller longer while the data xfer is).15 E
(queued up and the controller is w)72 547.8 Q(aiting for the heads to get o)-.1
E -.15(ve)-.15 G 2.5(rt).15 G(he proper sector)332.39 547.8 Q(.)-.55 E 2.5
<418c>72 570.3 S(nal note:)87.28 570.3 Q -.2(bu)5 G 2.5(sI).2 G
(/O architecture and CPU speed play a f)146.52 570.3 Q
(actor in all of this, since)-.1 E(ho)72 585.3 Q 2.5(wf)-.25 G(ast it tak)94.7
585.3 Q(es the processor to \214eld a de)-.1 E(vice interrupt and ho)-.25 E 2.5
(wf)-.25 G(ast the code in)337.29 585.3 Q(the dri)72 600.3 Q -.15(ve)-.25 G 2.5
(re).15 G -.15(xe)116.99 600.3 S(cutes af).15 E(fect timing.)-.25 E
(Ideally someone should use the same dri)5 E .3 -.15(ve a)-.25 H(nd).15 E
(controller setup on a slo)72 615.3 Q 2.5(wC)-.25 G(PU \(e)184.24 615.3 Q 2.5
(gV)-.15 G(AX750\) and see ho)220.51 615.3 Q 2.5(wd)-.25 G(if)312.46 615.3 Q
(ferent the numbers)-.25 E(are.)72 630.3 Q/F1 10/Times-Bold@0 SF(Refer)72 660.3
Q(ences)-.18 E F0(M. J. Bach,)72 678.9 Q/F2 10/Times-Italic@0 SF
(The Design of the UNIX Oper)2.5 E(ating System,)-.15 E F0
(Prentice Hall \(1986\).)2.5 E(S. J. Lef)72 697.5 Q(\215er)-.25 E 2.5(,M)-.4 G
2.5(.K)131.9 697.5 S 2.5(.M)144.12 697.5 S(cK)158.01 697.5 Q
(usick, M. J. Karels, and J. S. Quarterman,)-.15 E F2(The Design and)2.5 E
(Implementation of the 4.3BSD UNIX Oper)100.8 712.5 Q(ating System,)-.15 E F0
(Addison-W)2.5 E(esle)-.8 E(y)-.15 E(\(1989\).)100.8 727.5 Q EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)227.705 51 S 2.5(7-)238.535 51 S EP
%%Trailer
end
%%EOF
